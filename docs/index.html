<!doctype html><html lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><title>Make recipes fun again</title><meta content="I hate ads" name=description><style>html{flex-direction:column;height:100%;display:flex}body{color:#fff;background:#000;flex-direction:column;flex-grow:1;height:100%;display:flex}button{color:#fff;background:red;border-width:0}.hidden{display:none}.input{width:100%;display:flex}.input input{flex-grow:1}.output{flex-grow:1;display:flex}.output textarea{flex-grow:1}</style><script>let State={None:0,Ingredients:1,Instructions:2,Notes:3};let extract_markdown=a=>{let k=0,j=null,l=`\\n`;let b=new DOMParser();let c=b.parseFromString(a,`text/html`);let d=State.None;let e=j;let f=[];let g=[];let h=[];for(let a of c.querySelectorAll(`li,p,h1,h2,h3,h4,h5,h6`)){let b=a.textContent.trim();if(b.length==k){continue};let c=b.toLowerCase();switch(c){case `ingredients`:d=State.Ingredients;e=j;continue;case `instructions`:d=State.Instructions;e=j;continue;case `notes`:d=State.Notes;e=j;continue;default:break}switch(a.nodeName){case `H1`:;case `H2`:;case `H3`:;case `H4`:;case `H5`:;case `H6`:;case `H7`:;case `H8`:;case `H9`:b=`\n### ${b}`;break;default:b=`  - ${b}`;break}switch(d){case State.Ingredients:f.push(b);break;case State.Instructions:g.push(b);break;case State.Notes:h.push(b);break;default:break}};let i=``;if(f.length>k){i+=`## Ingredients\\n\\n`;i+=f.join(l)};if(g.length>k){i+=`\\n\\n## Instructions\\n\\n`;i+=g.join(l)};if(h.length>k){i+=`\\n\\n## Notes\\n\\n`;i+=h.join(l)};return i};window.onload=()=>{const a=document.querySelector(`.input`);const b=document.querySelector(`.input input`);const c=document.querySelector(`.input button`);const d=document.querySelector(`.output`);const e=document.querySelector(`.output textarea`);const f=()=>{let a=encodeURI(b.value);fetch(`https://corsproxy.io/?url=${a}`).then(a=>{a.text().then(a=>{let b=extract_markdown(a);e.value=b})})};c.addEventListener(`click`,()=>{f()});b.addEventListener(`keyup`,a=>{if(a.key==`Enter`){f()}})}</script></head><body><div class=input><input><button>Get recipe</button></div><div class=output><textarea></textarea></div></body></html>
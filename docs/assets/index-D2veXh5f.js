(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();const Er=!1;var Jt=Array.isArray,Bn=Array.prototype.indexOf,Qt=Array.from,Ur=Object.defineProperty,Ge=Object.getOwnPropertyDescriptor,Gn=Object.getOwnPropertyDescriptors,Kn=Object.prototype,Vn=Array.prototype,jr=Object.getPrototypeOf,Ir=Object.isExtensible;function zn(e){return typeof e=="function"}const B=()=>{};function Br(e){for(var t=0;t<e.length;t++)e[t]()}const ne=2,Gr=4,gt=8,er=16,ye=32,Ue=64,it=128,Y=256,lt=512,G=1024,oe=2048,Oe=4096,me=8192,bt=16384,Yn=32768,wt=65536,Xn=1<<19,Kr=1<<20,jt=1<<21,rt=Symbol("$state");function Vr(e){return e===this.v}function zr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Yr(e){return!zr(e,this.v)}function Zn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Jn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Qn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ei(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ti(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ri(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ni(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Qe=!1,ii=!1;function li(){Qe=!0}const tr=1,rr=2,Xr=4,ai=8,si=16,ui=4,oi=1,fi=2,U=Symbol(),ci="http://www.w3.org/1999/xhtml";function vi(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let O=null;function Ar(e){O=e}function Se(e,t=!1,r){var n=O={p:O,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Qe&&!t&&(O.l={s:null,u:null,r1:[],r2:Xe(!1)}),ir(()=>{n.d=!0})}function Pe(e){const t=O;if(t!==null){const u=t.e;if(u!==null){var r=I,n=A;t.e=null;try{for(var i=0;i<u.length;i++){var l=u[i];fe(l.effect),Q(l.reaction),ar(l.fn)}}finally{fe(r),Q(n)}}O=t.p,t.m=!0}return{}}function mt(){return!Qe||O!==null&&O.l===null}function re(e){if(typeof e!="object"||e===null||rt in e)return e;const t=jr(e);if(t!==Kn&&t!==Vn)return e;var r=new Map,n=Jt(e),i=D(0),l=A,u=a=>{var s=A;Q(l);var o=a();return Q(s),o};return n&&r.set("length",D(e.length)),new Proxy(e,{defineProperty(a,s,o){(!("value"in o)||o.configurable===!1||o.enumerable===!1||o.writable===!1)&&ti();var c=r.get(s);return c===void 0?(c=u(()=>D(o.value)),r.set(s,c)):L(c,u(()=>re(o.value))),!0},deleteProperty(a,s){var o=r.get(s);if(o===void 0)s in a&&(r.set(s,u(()=>D(U))),Ht(i));else{if(n&&typeof s=="string"){var c=r.get("length"),_=Number(s);Number.isInteger(_)&&_<c.v&&L(c,_)}L(o,U),Ht(i)}return!0},get(a,s,o){var v;if(s===rt)return e;var c=r.get(s),_=s in a;if(c===void 0&&(!_||(v=Ge(a,s))!=null&&v.writable)&&(c=u(()=>D(re(_?a[s]:U))),r.set(s,c)),c!==void 0){var f=h(c);return f===U?void 0:f}return Reflect.get(a,s,o)},getOwnPropertyDescriptor(a,s){var o=Reflect.getOwnPropertyDescriptor(a,s);if(o&&"value"in o){var c=r.get(s);c&&(o.value=h(c))}else if(o===void 0){var _=r.get(s),f=_==null?void 0:_.v;if(_!==void 0&&f!==U)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return o},has(a,s){var f;if(s===rt)return!0;var o=r.get(s),c=o!==void 0&&o.v!==U||Reflect.has(a,s);if(o!==void 0||I!==null&&(!c||(f=Ge(a,s))!=null&&f.writable)){o===void 0&&(o=u(()=>D(c?re(a[s]):U)),r.set(s,o));var _=h(o);if(_===U)return!1}return c},set(a,s,o,c){var y;var _=r.get(s),f=s in a;if(n&&s==="length")for(var v=o;v<_.v;v+=1){var d=r.get(v+"");d!==void 0?L(d,U):v in a&&(d=u(()=>D(U)),r.set(v+"",d))}_===void 0?(!f||(y=Ge(a,s))!=null&&y.writable)&&(_=u(()=>D(void 0)),L(_,u(()=>re(o))),r.set(s,_)):(f=_.v!==U,L(_,u(()=>re(o))));var p=Reflect.getOwnPropertyDescriptor(a,s);if(p!=null&&p.set&&p.set.call(c,o),!f){if(n&&typeof s=="string"){var g=r.get("length"),w=Number(s);Number.isInteger(w)&&w>=g.v&&L(g,w+1)}Ht(i)}return!0},ownKeys(a){h(i);var s=Reflect.ownKeys(a).filter(_=>{var f=r.get(_);return f===void 0||f.v!==U});for(var[o,c]of r)c.v!==U&&!(o in a)&&s.push(o);return s},setPrototypeOf(){ri()}})}function Ht(e,t=1){L(e,e.v+t)}function kt(e){var t=ne|oe,r=A!==null&&(A.f&ne)!==0?A:null;return I===null||r!==null&&(r.f&Y)!==0?t|=Y:I.f|=Kr,{ctx:O,deps:null,effects:null,equals:Vr,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??I}}function Nr(e){const t=kt(e);return cn(t),t}function _i(e){const t=kt(e);return t.equals=Yr,t}function Zr(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)ke(t[r])}}function di(e){for(var t=e.parent;t!==null;){if((t.f&ne)===0)return t;t=t.parent}return null}function Jr(e){var t,r=I;fe(di(e));try{Zr(e),t=hn(e)}finally{fe(r)}return t}function Qr(e){var t=Jr(e),r=(Ne||(e.f&Y)!==0)&&e.deps!==null?Oe:G;ie(e,r),e.equals(t)||(e.v=t,e.wv=_n())}const Ye=new Map;function Xe(e,t){var r={f:0,v:e,reactions:null,equals:Vr,rv:0,wv:0};return r}function D(e,t){const r=Xe(e);return cn(r),r}function nr(e,t=!1){var n;const r=Xe(e);return t||(r.equals=Yr),Qe&&O!==null&&O.l!==null&&((n=O.l).s??(n.s=[])).push(r),r}function L(e,t,r=!1){A!==null&&!ue&&mt()&&(A.f&(ne|er))!==0&&!(F!=null&&F.includes(e))&&ni();let n=r?re(t):t;return Bt(e,n)}function Bt(e,t){if(!e.equals(t)){var r=e.v;et?Ye.set(e,t):Ye.set(e,r),e.v=t,(e.f&ne)!==0&&((e.f&oe)!==0&&Jr(e),ie(e,(e.f&Y)===0?G:Oe)),e.wv=_n(),en(e,oe),mt()&&I!==null&&(I.f&G)!==0&&(I.f&(ye|Ue))===0&&(J===null?Ii([e]):J.push(e))}return t}function en(e,t){var r=e.reactions;if(r!==null)for(var n=mt(),i=r.length,l=0;l<i;l++){var u=r[l],a=u.f;(a&oe)===0&&(!n&&u===I||(ie(u,t),(a&(G|Y))!==0&&((a&ne)!==0?en(u,Oe):Nt(u))))}}let hi=!1;var Rr,tn,rn,nn;function pi(){if(Rr===void 0){Rr=window,tn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;rn=Ge(t,"firstChild").get,nn=Ge(t,"nextSibling").get,Ir(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ir(r)&&(r.__t=void 0)}}function yt(e=""){return document.createTextNode(e)}function at(e){return rn.call(e)}function xt(e){return nn.call(e)}function E(e,t){return at(e)}function Ke(e,t){{var r=at(e);return r instanceof Comment&&r.data===""?xt(r):r}}function M(e,t=1,r=!1){let n=e;for(;t--;)n=xt(n);return n}function gi(e){e.textContent=""}function bi(e){I===null&&A===null&&Qn(),A!==null&&(A.f&Y)!==0&&I===null&&Jn(),et&&Zn()}function wi(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function je(e,t,r,n=!0){var i=I,l={ctx:O,deps:null,nodes_start:null,nodes_end:null,f:e|oe,first:null,fn:t,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(r)try{ur(l),l.f|=Yn}catch(s){throw ke(l),s}else t!==null&&Nt(l);var u=r&&l.deps===null&&l.first===null&&l.nodes_start===null&&l.teardown===null&&(l.f&(Kr|it))===0;if(!u&&n&&(i!==null&&wi(l,i),A!==null&&(A.f&ne)!==0)){var a=A;(a.effects??(a.effects=[])).push(l)}return l}function ir(e){const t=je(gt,null,!1);return ie(t,G),t.teardown=e,t}function lr(e){bi();var t=I!==null&&(I.f&ye)!==0&&O!==null&&!O.m;if(t){var r=O;(r.e??(r.e=[])).push({fn:e,effect:I,reaction:A})}else{var n=ar(e);return n}}function mi(e){const t=je(Ue,e,!0);return(r={})=>new Promise(n=>{r.outro?st(t,()=>{ke(t),n(void 0)}):(ke(t),n(void 0))})}function ar(e){return je(Gr,e,!1)}function ki(e){return je(gt,e,!0)}function j(e,t=[],r=kt){const n=t.map(r);return Et(()=>e(...n.map(h)))}function Et(e,t=0){return je(gt|er|t,e,!0)}function We(e,t=!0){return je(gt|ye,e,!0,t)}function ln(e){var t=e.teardown;if(t!==null){const r=et,n=A;Lr(!0),Q(null);try{t.call(null)}finally{Lr(r),Q(n)}}}function an(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;(r.f&Ue)!==0?r.parent=null:ke(r,t),r=n}}function yi(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&ye)===0&&ke(t),t=r}}function ke(e,t=!0){var r=!1;(t||(e.f&Xn)!==0)&&e.nodes_start!==null&&(xi(e.nodes_start,e.nodes_end),r=!0),an(e,t&&!r),vt(e,0),ie(e,bt);var n=e.transitions;if(n!==null)for(const l of n)l.stop();ln(e);var i=e.parent;i!==null&&i.first!==null&&sn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function xi(e,t){for(;e!==null;){var r=e===t?null:xt(e);e.remove(),e=r}}function sn(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function st(e,t){var r=[];sr(e,r,!0),un(r,()=>{ke(e),t&&t()})}function un(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var i of e)i.out(n)}else t()}function sr(e,t,r){if((e.f&me)===0){if(e.f^=me,e.transitions!==null)for(const u of e.transitions)(u.is_global||r)&&t.push(u);for(var n=e.first;n!==null;){var i=n.next,l=(n.f&wt)!==0||(n.f&ye)!==0;sr(n,t,l?r:!1),n=i}}}function ut(e){on(e,!0)}function on(e,t){if((e.f&me)!==0){e.f^=me,(e.f&G)===0&&(e.f^=G),tt(e)&&(ie(e,oe),Nt(e));for(var r=e.first;r!==null;){var n=r.next,i=(r.f&wt)!==0||(r.f&ye)!==0;on(r,i?t:!1),r=n}if(e.transitions!==null)for(const l of e.transitions)(l.is_global||t)&&l.in()}}let Ze=[],Gt=[];function fn(){var e=Ze;Ze=[],Br(e)}function Ei(){var e=Gt;Gt=[],Br(e)}function It(e){Ze.length===0&&queueMicrotask(fn),Ze.push(e)}function Cr(){Ze.length>0&&fn(),Gt.length>0&&Ei()}let nt=!1,ot=!1,ft=null,Me=!1,et=!1;function Lr(e){et=e}let Ve=[];let A=null,ue=!1;function Q(e){A=e}let I=null;function fe(e){I=e}let F=null;function cn(e){A!==null&&A.f&jt&&(F===null?F=[e]:F.push(e))}let q=null,V=0,J=null;function Ii(e){J=e}let vn=1,ct=0,Ne=!1;function _n(){return++vn}function tt(e){var _;var t=e.f;if((t&oe)!==0)return!0;if((t&Oe)!==0){var r=e.deps,n=(t&Y)!==0;if(r!==null){var i,l,u=(t&lt)!==0,a=n&&I!==null&&!Ne,s=r.length;if(u||a){var o=e,c=o.parent;for(i=0;i<s;i++)l=r[i],(u||!((_=l==null?void 0:l.reactions)!=null&&_.includes(o)))&&(l.reactions??(l.reactions=[])).push(o);u&&(o.f^=lt),a&&c!==null&&(c.f&Y)===0&&(o.f^=Y)}for(i=0;i<s;i++)if(l=r[i],tt(l)&&Qr(l),l.wv>e.wv)return!0}(!n||I!==null&&!Ne)&&ie(e,G)}return!1}function Ai(e,t){for(var r=t;r!==null;){if((r.f&it)!==0)try{r.fn(e);return}catch{r.f^=it}r=r.parent}throw nt=!1,e}function Mr(e){return(e.f&bt)===0&&(e.parent===null||(e.parent.f&it)===0)}function At(e,t,r,n){if(nt){if(r===null&&(nt=!1),Mr(t))throw e;return}if(r!==null&&(nt=!0),Ai(e,t),Mr(t))throw e}function dn(e,t,r=!0){var n=e.reactions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];F!=null&&F.includes(e)||((l.f&ne)!==0?dn(l,t,!1):t===l&&(r?ie(l,oe):(l.f&G)!==0&&ie(l,Oe),Nt(l)))}}function hn(e){var v;var t=q,r=V,n=J,i=A,l=Ne,u=F,a=O,s=ue,o=e.f;q=null,V=0,J=null,Ne=(o&Y)!==0&&(ue||!Me||A===null),A=(o&(ye|Ue))===0?e:null,F=null,Ar(e.ctx),ue=!1,ct++,e.f|=jt;try{var c=(0,e.fn)(),_=e.deps;if(q!==null){var f;if(vt(e,V),_!==null&&V>0)for(_.length=V+q.length,f=0;f<q.length;f++)_[V+f]=q[f];else e.deps=_=q;if(!Ne)for(f=V;f<_.length;f++)((v=_[f]).reactions??(v.reactions=[])).push(e)}else _!==null&&V<_.length&&(vt(e,V),_.length=V);if(mt()&&J!==null&&!ue&&_!==null&&(e.f&(ne|Oe|oe))===0)for(f=0;f<J.length;f++)dn(J[f],e);return i!==null&&i!==e&&(ct++,J!==null&&(n===null?n=J:n.push(...J))),c}finally{q=t,V=r,J=n,A=i,Ne=l,F=u,Ar(a),ue=s,e.f^=jt}}function Ni(e,t){let r=t.reactions;if(r!==null){var n=Bn.call(r,e);if(n!==-1){var i=r.length-1;i===0?r=t.reactions=null:(r[n]=r[i],r.pop())}}r===null&&(t.f&ne)!==0&&(q===null||!q.includes(t))&&(ie(t,Oe),(t.f&(Y|lt))===0&&(t.f^=lt),Zr(t),vt(t,0))}function vt(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)Ni(e,r[n])}function ur(e){var t=e.f;if((t&bt)===0){ie(e,G);var r=I,n=O,i=Me;I=e,Me=!0;try{(t&er)!==0?yi(e):an(e),ln(e);var l=hn(e);e.teardown=typeof l=="function"?l:null,e.wv=vn;var u=e.deps,a;Er&&ii&&e.f&oe}catch(s){At(s,e,r,n||e.ctx)}finally{Me=i,I=r}}}function Ri(){try{ei()}catch(e){if(ft!==null)At(e,ft,null);else throw e}}function pn(){var e=Me;try{var t=0;for(Me=!0;Ve.length>0;){t++>1e3&&Ri();var r=Ve,n=r.length;Ve=[];for(var i=0;i<n;i++){var l=Li(r[i]);Ci(l)}Ye.clear()}}finally{ot=!1,Me=e,ft=null}}function Ci(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if((n.f&(bt|me))===0)try{tt(n)&&(ur(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?sn(n):n.fn=null))}catch(i){At(i,n,null,n.ctx)}}}function Nt(e){ot||(ot=!0,queueMicrotask(pn));for(var t=ft=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&(Ue|ye))!==0){if((r&G)===0)return;t.f^=G}}Ve.push(t)}function Li(e){for(var t=[],r=e;r!==null;){var n=r.f,i=(n&(ye|Ue))!==0,l=i&&(n&G)!==0;if(!l&&(n&me)===0){if((n&Gr)!==0)t.push(r);else if(i)r.f^=G;else try{tt(r)&&ur(r)}catch(s){At(s,r,null,r.ctx)}var u=r.first;if(u!==null){r=u;continue}}var a=r.parent;for(r=r.next;r===null&&a!==null;)r=a.next,a=a.parent}return t}function Mi(e){var t;for(Cr();Ve.length>0;)ot=!0,pn(),Cr();return t}async function Oi(){await Promise.resolve(),Mi()}function h(e){var t=e.f,r=(t&ne)!==0;if(A!==null&&!ue){if(!(F!=null&&F.includes(e))){var n=A.deps;e.rv<ct&&(e.rv=ct,q===null&&n!==null&&n[V]===e?V++:q===null?q=[e]:(!Ne||!q.includes(e))&&q.push(e))}}else if(r&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&Y)===0&&(i.f^=Y)}return r&&(i=e,tt(i)&&Qr(i)),et&&Ye.has(e)?Ye.get(e):e.v}function Rt(e){var t=ue;try{return ue=!0,e()}finally{ue=t}}const Si=-7169;function ie(e,t){e.f=e.f&Si|t}const Pi=["touchstart","touchmove"];function Ti(e){return Pi.includes(e)}function gn(e){var t=A,r=I;Q(null),fe(null);try{return e()}finally{Q(t),fe(r)}}const bn=new Set,Kt=new Set;function Di(e,t,r,n={}){function i(l){if(n.capture||Be.call(t,l),!l.cancelBubble)return gn(()=>r==null?void 0:r.call(this,l))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?It(()=>{t.addEventListener(e,i,n)}):t.addEventListener(e,i,n),i}function wn(e,t,r,n,i){var l={capture:n,passive:i},u=Di(e,t,r,l);(t===document.body||t===window||t===document)&&ir(()=>{t.removeEventListener(e,u,l)})}function Ct(e){for(var t=0;t<e.length;t++)bn.add(e[t]);for(var r of Kt)r(e)}function Be(e){var y;var t=this,r=t.ownerDocument,n=e.type,i=((y=e.composedPath)==null?void 0:y.call(e))||[],l=i[0]||e.target,u=0,a=e.__root;if(a){var s=i.indexOf(a);if(s!==-1&&(t===document||t===window)){e.__root=t;return}var o=i.indexOf(t);if(o===-1)return;s<=o&&(u=s)}if(l=i[u]||e.target,l!==t){Ur(e,"currentTarget",{configurable:!0,get(){return l||r}});var c=A,_=I;Q(null),fe(null);try{for(var f,v=[];l!==null;){var d=l.assignedSlot||l.parentNode||l.host||null;try{var p=l["__"+n];if(p!=null&&(!l.disabled||e.target===l))if(Jt(p)){var[g,...w]=p;g.apply(l,[e,...w])}else p.call(l,e)}catch(R){f?v.push(R):f=R}if(e.cancelBubble||d===t||d===null)break;l=d}if(f){for(let R of v)queueMicrotask(()=>{throw R});throw f}}finally{e.__root=t,delete e.currentTarget,Q(c),fe(_)}}}function $i(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function _t(e,t){var r=I;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function S(e,t){var r=(t&oi)!==0,n=(t&fi)!==0,i,l=!e.startsWith("<!>");return()=>{i===void 0&&(i=$i(l?e:"<!>"+e),r||(i=at(i)));var u=n||tn?document.importNode(i,!0):i.cloneNode(!0);if(r){var a=at(u),s=u.lastChild;_t(a,s)}else _t(u,u);return u}}function Or(e=""){{var t=yt(e+"");return _t(t,t),t}}function mn(){var e=document.createDocumentFragment(),t=document.createComment(""),r=yt();return e.append(t,r),_t(t,r),e}function C(e,t){e!==null&&e.before(t)}function ae(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function Hi(e,t){return qi(e,t)}const $e=new Map;function qi(e,{target:t,anchor:r,props:n={},events:i,context:l,intro:u=!0}){pi();var a=new Set,s=_=>{for(var f=0;f<_.length;f++){var v=_[f];if(!a.has(v)){a.add(v);var d=Ti(v);t.addEventListener(v,Be,{passive:d});var p=$e.get(v);p===void 0?(document.addEventListener(v,Be,{passive:d}),$e.set(v,1)):$e.set(v,p+1)}}};s(Qt(bn)),Kt.add(s);var o=void 0,c=mi(()=>{var _=r??t.appendChild(yt());return We(()=>{if(l){Se({});var f=O;f.c=l}i&&(n.$$events=i),o=e(_,n)||{},l&&Pe()}),()=>{var d;for(var f of a){t.removeEventListener(f,Be);var v=$e.get(f);--v===0?(document.removeEventListener(f,Be),$e.delete(f)):$e.set(f,v)}Kt.delete(s),_!==r&&((d=_.parentNode)==null||d.removeChild(_))}});return Wi.set(o,c),o}let Wi=new WeakMap;function W(e,t,[r,n]=[0,0]){var i=e,l=null,u=null,a=U,s=r>0?wt:0,o=!1;const c=(f,v=!0)=>{o=!0,_(v,f)},_=(f,v)=>{a!==(a=f)&&(a?(l?ut(l):v&&(l=We(()=>v(i))),u&&st(u,()=>{u=null})):(u?ut(u):v&&(u=We(()=>v(i,[r+1,n]))),l&&st(l,()=>{l=null})))};Et(()=>{o=!1,t(c),o||_(null,null)},s)}function Je(e,t){return t}function Fi(e,t,r,n){for(var i=[],l=t.length,u=0;u<l;u++)sr(t[u].e,i,!0);var a=l>0&&i.length===0&&r!==null;if(a){var s=r.parentNode;gi(s),s.append(r),n.clear(),Ae(e,t[0].prev,t[l-1].next)}un(i,()=>{for(var o=0;o<l;o++){var c=t[o];a||(n.delete(c.k),Ae(e,c.prev,c.next)),ke(c.e,!a)}})}function Fe(e,t,r,n,i,l=null){var u=e,a={flags:t,items:new Map,first:null},s=(t&Xr)!==0;if(s){var o=e;u=o.appendChild(yt())}var c=null,_=!1,f=_i(()=>{var v=r();return Jt(v)?v:v==null?[]:Qt(v)});Et(()=>{var v=h(f),d=v.length;_&&d===0||(_=d===0,Ui(v,a,u,i,t,n,r),l!==null&&(d===0?c?ut(c):c=We(()=>l(u)):c!==null&&st(c,()=>{c=null})),h(f))})}function Ui(e,t,r,n,i,l,u){var de,Te,ee,he;var a=(i&ai)!==0,s=(i&(tr|rr))!==0,o=e.length,c=t.items,_=t.first,f=_,v,d=null,p,g=[],w=[],y,R,b,k;if(a)for(k=0;k<o;k+=1)y=e[k],R=l(y,k),b=c.get(R),b!==void 0&&((de=b.a)==null||de.measure(),(p??(p=new Set)).add(b));for(k=0;k<o;k+=1){if(y=e[k],R=l(y,k),b=c.get(R),b===void 0){var H=f?f.e.nodes_start:r;d=Bi(H,t,d,d===null?t.first:d.next,y,R,k,n,i,u),c.set(R,d),g=[],w=[],f=d.next;continue}if(s&&ji(b,y,k,i),(b.e.f&me)!==0&&(ut(b.e),a&&((Te=b.a)==null||Te.unfix(),(p??(p=new Set)).delete(b))),b!==f){if(v!==void 0&&v.has(b)){if(g.length<w.length){var x=w[0],$;d=x.prev;var ce=g[0],ve=g[g.length-1];for($=0;$<g.length;$+=1)Sr(g[$],x,r);for($=0;$<w.length;$+=1)v.delete(w[$]);Ae(t,ce.prev,ve.next),Ae(t,d,ce),Ae(t,ve,x),f=x,d=ve,k-=1,g=[],w=[]}else v.delete(b),Sr(b,f,r),Ae(t,b.prev,b.next),Ae(t,b,d===null?t.first:d.next),Ae(t,d,b),d=b;continue}for(g=[],w=[];f!==null&&f.k!==R;)(f.e.f&me)===0&&(v??(v=new Set)).add(f),w.push(f),f=f.next;if(f===null)continue;b=f}g.push(b),d=b,f=b.next}if(f!==null||v!==void 0){for(var le=v===void 0?[]:Qt(v);f!==null;)(f.e.f&me)===0&&le.push(f),f=f.next;var X=le.length;if(X>0){var _e=(i&Xr)!==0&&o===0?r:null;if(a){for(k=0;k<X;k+=1)(ee=le[k].a)==null||ee.measure();for(k=0;k<X;k+=1)(he=le[k].a)==null||he.fix()}Fi(t,le,_e,c)}}a&&It(()=>{var xe;if(p!==void 0)for(b of p)(xe=b.a)==null||xe.apply()}),I.first=t.first&&t.first.e,I.last=d&&d.e}function ji(e,t,r,n){(n&tr)!==0&&Bt(e.v,t),(n&rr)!==0?Bt(e.i,r):e.i=r}function Bi(e,t,r,n,i,l,u,a,s,o){var c=(s&tr)!==0,_=(s&si)===0,f=c?_?nr(i):Xe(i):i,v=(s&rr)===0?u:Xe(u),d={i:v,v:f,k:l,a:null,e:null,prev:r,next:n};try{return d.e=We(()=>a(e,f,v,o),hi),d.e.prev=r&&r.e,d.e.next=n&&n.e,r===null?t.first=d:(r.next=d,r.e.next=d.e),n!==null&&(n.prev=d,n.e.prev=d.e),d}finally{}}function Sr(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,i=t?t.e.nodes_start:r,l=e.e.nodes_start;l!==n;){var u=xt(l);i.before(l),l=u}}function Ae(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Gi(e,t,...r){var n=e,i=B,l;Et(()=>{i!==(i=t())&&(l&&(ke(l),l=null),l=We(()=>i(n,...r)))},wt)}function kn(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=kn(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ki(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=kn(e))&&(n&&(n+=" "),n+=t);return n}function Vi(e){return typeof e=="object"?Ki(e):e??""}const Pr=[...` 	
\r\f \v\uFEFF`];function zi(e,t,r){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),r){for(var i in r)if(r[i])n=n?n+" "+i:i;else if(n.length)for(var l=i.length,u=0;(u=n.indexOf(i,u))>=0;){var a=u+l;(u===0||Pr.includes(n[u-1]))&&(a===n.length||Pr.includes(n[a]))?n=(u===0?"":n.substring(0,u))+n.substring(a+1):u=a}}return n===""?null:n}function Tr(e,t=!1){var r=t?" !important;":";",n="";for(var i in e){var l=e[i];l!=null&&l!==""&&(n+=" "+i+": "+l+r)}return n}function Yi(e,t){if(t){var r="",n,i;return Array.isArray(t)?(n=t[0],i=t[1]):n=t,n&&(r+=Tr(n)),i&&(r+=Tr(i,!0)),r=r.trim(),r===""?null:r}return String(e)}function se(e,t,r,n,i,l){var u=e.__className;if(u!==r||u===void 0){var a=zi(r,n,l);a==null?e.removeAttribute("class"):e.className=a,e.__className=r}else if(l&&i!==l)for(var s in l){var o=!!l[s];(i==null||o!==!!i[s])&&e.classList.toggle(s,o)}return l}function qt(e,t={},r,n){for(var i in r){var l=r[i];t[i]!==l&&(r[i]==null?e.style.removeProperty(i):e.style.setProperty(i,l,n))}}function Vt(e,t,r,n){var i=e.__style;if(i!==t){var l=Yi(t,n);l==null?e.removeAttribute("style"):e.style.cssText=l,e.__style=t}else n&&(Array.isArray(n)?(qt(e,r==null?void 0:r[0],n[0]),qt(e,r==null?void 0:r[1],n[1],"important")):qt(e,r,n));return n}const Xi=Symbol("is custom element"),Zi=Symbol("is html");function Ji(e,t){var r=yn(e);r.checked!==(r.checked=t??void 0)&&(e.checked=t)}function Qi(e,t,r,n){var i=yn(e);i[t]!==(i[t]=r)&&(r==null?e.removeAttribute(t):typeof r!="string"&&el(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function yn(e){return e.__attributes??(e.__attributes={[Xi]:e.nodeName.includes("-"),[Zi]:e.namespaceURI===ci})}var Dr=new Map;function el(e){var t=Dr.get(e.nodeName);if(t)return t;Dr.set(e.nodeName,t=[]);for(var r,n=e,i=Element.prototype;i!==n;){r=Gn(n);for(var l in r)r[l].set&&t.push(l);n=jr(n)}return t}const tl=()=>performance.now(),be={tick:e=>requestAnimationFrame(e),now:()=>tl(),tasks:new Set};function xn(){const e=be.now();be.tasks.forEach(t=>{t.c(e)||(be.tasks.delete(t),t.f())}),be.tasks.size!==0&&be.tick(xn)}function rl(e){let t;return be.tasks.size===0&&be.tick(xn),{promise:new Promise(r=>{be.tasks.add(t={c:e,f:r})}),abort(){be.tasks.delete(t)}}}function $r(e,t){gn(()=>{e.dispatchEvent(new CustomEvent(t))})}function nl(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function il(e){const t={},r=e.split(";");for(const n of r){const[i,l]=n.split(":");if(!i||l===void 0)break;const u=nl(i.trim());t[u]=l.trim()}return t}const ll=e=>e;function al(e,t,r,n){var i=(e&ui)!==0,l="out",u,a=t.inert;t.style.overflow;var s,o;function c(){var v=A,d=I;Q(null),fe(null);try{return u??(u=r()(t,(n==null?void 0:n())??{},{direction:l}))}finally{Q(v),fe(d)}}var _={is_global:i,in(){var v;t.inert=a;{o==null||o.abort(),(v=o==null?void 0:o.reset)==null||v.call(o);return}},out(v){t.inert=!0,$r(t,"outrostart"),o=En(t,c(),s,0,()=>{$r(t,"outroend"),v==null||v()})},stop:()=>{o==null||o.abort()}},f=I;(f.transitions??(f.transitions=[])).push(_)}function En(e,t,r,n,i){if(zn(t)){var l,u=!1;return It(()=>{if(!u){var d=t({direction:"out"});l=En(e,d,r,n,i)}}),{abort:()=>{u=!0,l==null||l.abort()},deactivate:()=>l.deactivate(),reset:()=>l.reset(),t:()=>l.t()}}if(!(t!=null&&t.duration))return i(),{abort:B,deactivate:B,reset:B,t:()=>n};const{delay:a=0,css:s,tick:o,easing:c=ll}=t;var _=[],f=()=>1-n,v=e.animate(_,{duration:a});return v.onfinish=()=>{var d=1-n,p=n-d,g=t.duration*Math.abs(p),w=[];if(g>0){var y=!1;if(s)for(var R=Math.ceil(g/16.666666666666668),b=0;b<=R;b+=1){var k=d+p*c(b/R),H=il(s(k,1-k));w.push(H),y||(y=H.overflow==="hidden")}y&&(e.style.overflow="hidden"),f=()=>{var x=v.currentTime;return d+p*c(x/g)},o&&rl(()=>{if(v.playState!=="running")return!1;var x=f();return o(x,1-x),!0})}v=e.animate(w,{duration:g,fill:"forwards"}),v.onfinish=()=>{f=()=>n,o==null||o(n,1-n),i()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=B)},deactivate:()=>{i=B},reset:()=>{o==null||o(1,0)},t:()=>f()}}function Hr(e,t){return e===t||(e==null?void 0:e[rt])===t}function sl(e={},t,r,n){return ar(()=>{var i,l;return ki(()=>{i=l,l=[],Rt(()=>{e!==r(...l)&&(t(e,...l),i&&Hr(r(...i),e)&&t(null,...i))})}),()=>{It(()=>{l&&Hr(r(...l),e)&&t(null,...l)})}}),e}function In(e,t,r){if(e==null)return t(void 0),B;const n=Rt(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const He=[];function An(e,t=B){let r=null;const n=new Set;function i(a){if(zr(e,a)&&(e=a,r)){const s=!He.length;for(const o of n)o[1](),He.push(o,e);if(s){for(let o=0;o<He.length;o+=2)He[o][0](He[o+1]);He.length=0}}}function l(a){i(a(e))}function u(a,s=B){const o=[a,s];return n.add(o),n.size===1&&(r=t(i,l)||B),a(e),()=>{n.delete(o),n.size===0&&r&&(r(),r=null)}}return{set:i,update:l,subscribe:u}}function ul(e){let t;return In(e,r=>t=r)(),t}let zt=Symbol();function Nn(e,t,r){const n=r[t]??(r[t]={store:null,source:nr(void 0),unsubscribe:B});if(n.store!==e&&!(zt in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=B;else{var i=!0;n.unsubscribe=In(e,l=>{i?n.source.v=l:L(n.source,l)}),i=!1}return e&&zt in r?ul(e):h(n.source)}function Rn(){const e={};function t(){ir(()=>{for(var r in e)e[r].unsubscribe();Ur(e,zt,{enumerable:!1,value:!0})})}return[e,t]}function qr(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function Cn(e,t,r,n){var i;i=e[t];var l=n,u=!0,a=!1,s=()=>(a=!0,u&&(u=!1,l=n),l),o;o=()=>{var v=e[t];return v===void 0?s():(u=!0,a=!1,v)};var c=!1,_=nr(i),f=kt(()=>{var v=o(),d=h(_);return c?(c=!1,d):_.v=v});return function(v,d){if(arguments.length>0){const p=d?h(f):v;if(!f.equals(p)){if(c=!0,L(_,p),a&&l!==void 0&&(l=p),qr(f))return v;Rt(()=>h(f))}return v}return qr(f)?f.v:h(f)}}function ol(e){O===null&&vi(),Qe&&O.l!==null?fl(O).m.push(e):lr(()=>{const t=Rt(e);if(typeof t=="function")return t})}function fl(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const cl="5";var Fr;typeof window<"u"&&((Fr=window.__svelte??(window.__svelte={})).v??(Fr.v=new Set)).add(cl);li();var vl=S('<a href="https://github.com/loremdipso/recipe-scraper" aria-label="View source on GitHub" target="_blank" style="position: fixed; right: 0; bottom: -0.5rem; z-index: 1000"><svg width="40" height="40" viewBox="0 0 250 250" style="fill: #151513; color: #fff; border: 0; transform: scale(1, -1)" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>');function _l(e){var t=vl();C(e,t)}function Yt(e){return e.replaceAll("**","")}function Ln(e,t=1){let r=e.split(" ");for(;r.length>t;)r.shift();return r.join(" ")}function Mn(e){return e.replaceAll(/^\s+(\/\/.*)?/gm,"").replaceAll(`
`,"")}function On(e,t,r=!1){if(typeof e=="string")return e;if(e*=10**t,e=Math.round(e),e/=10**t,r){if(z(e,1/2))return"1/2";if(z(e,1/3))return"1/3";if(z(e,1/4))return"1/4";if(z(e,1/8))return"1/8";if(z(e,2/3))return"2/3";if(z(e,3/4))return"3/4"}return e}function Xt(e){return!isNaN(Number(e))&&!isNaN(parseFloat(e))}function z(e,t){return Math.abs(e-t)<.01}function Zt(e,t){return e.split(/(\*\*[^\*]+\*\*)/).map(r=>r.startsWith("**")&&r.endsWith("**")?r:t(r)).join("")}function dl(e,t){t=t.toLowerCase();let r=Ln(t);return e[r]?r:t.replaceAll(/\s/g,"_")}let hl=0;const pl=e=>`${e}_${++hl}`;function Sn(e,t){return t.length-e.length}function Pn(e){if(!e||!e.length||e.length>500)return!1;try{let t=new URL(e);return t.protocol==="http:"||t.protocol==="https:"}catch{return!1}}var or=(e=>(e.RECIPES="recipes",e))(or||{}),N=(e=>(e.IMPERIAL="imperial",e.ORIGINAL="original",e.METRIC="metric",e.ANY="any",e))(N||{}),ge=(e=>(e[e.None=0]="None",e[e.Ingredients=1]="Ingredients",e[e.Instructions=2]="Instructions",e[e.Notes=3]="Notes",e))(ge||{});const dt="### ",ht="#### ",Re="   - ",Le={Recipe:"recipe",MyRecipes:"myrecipe"},gl=Mn(String.raw`
	(?:
		// Number and space prefix
		(?:[0-9]+ )?

		// Decimal prefix
		(?:\.)?

		// Some number
		[0-9]+

		// Decimal
		(?:\.[0-9]+)*

		// number-[other number]
		(?:\s*[\/-]\s*[0-9]+)*

		// number and [other number]
		(?: and [0-9]+)?

		(?:\/[0-9]+)*

		// Decimal suffix
		(?:\.[0-9]+)*

		\s*

		(?:\bteaspoon[s]?\b)?

		(?:\bquart[s]?\b)?

		(?:\bstick[s]?\b)?

		(?:\blb[s]?\b)?\s*

		(?:\btsp[s]?\b)?\s*

		(?:\btbsp[s]?\b)?\s*

		(?:\bpint[s]?\b)?

		(?:\btablespoon[s]?\b)?

		(?:lb[s]?\b)?

		(?:\bounce[s]?\b)?

		(?:oz[s]?\b)?

		(?:ml[s]?\b)?

		(?:g[s]?\b)?

		(?:cm[s]?\b)?

		(?:cup[s]?\b)?

		(?:day[s]?\b)?

		(?:minute[s]?\b)?

		(?:"\b)?

		(?:\-?inch(?:es)?\b)?

		(?:hour[s]?\b)*

		(?:\")*
	)`),pt={teaspoon:{regex:/^teaspoon[s]?$/i,alias:"tsp"},pint:{regex:/^pint[s]?$/i,singular:"pint",plural:"pints"},stick:{regex:/^stick[s]?$/i,singular:"stick",plural:"sticks",unit:N.ANY},lb:{regex:/^lb[s]?$/i,singular:"lb",plural:"lbs",unit:N.IMPERIAL},tablespoon:{regex:/^tablespoon[s]?$/i,alias:"tbsp"},tbsp:{regex:/^tbsp[s]?$/i,singular:"tbsp",unit:N.IMPERIAL,converters:{ml:e=>e*14.787}},tsp:{regex:/^tsp[s]?$/i,singular:"tsp",unit:N.IMPERIAL,converters:{ml:e=>e*4.929}},oz:{regex:/^oz[s]?$/i,singular:"oz",unit:N.METRIC},ml:{regex:/^ml[s]?$/i,singular:"ml",unit:N.METRIC,converters:{cup:e=>On(e/236.6,1)}},grams:{regex:/^g[s]?$/i,singular:"g",plural:"g",join:!0,unit:N.METRIC},cm:{regex:/^cm[s]?$/i,singular:"cm",unit:N.METRIC,converters:{inch:e=>e/2.54}},celsius:{regex:/°C?$/i,singular:"°C",unit:N.METRIC,join:!0,ignore_scale:!0,converters:{fahrenheit:e=>e*9/5+32}},fahrenheit:{regex:/°F?$/i,singular:"°F",unit:N.IMPERIAL,join:!0,ignore_scale:!0,converters:{celsius:e=>(e-32)*5/9}},cup:{regex:/^cup[s]?$/i,singular:"cup",plural:"cups",unit:N.IMPERIAL,converters:{ml:e=>e*236.5882365}},quart:{regex:/^quart[s]?$/i,singular:"quart",plural:"quarts",unit:N.IMPERIAL},ounce:{regex:/^ounce[s]?$/i,singular:"ounce",plural:"ounces",unit:N.METRIC},inch_alt:{regex:/^inch(?:es)?$/i,alias:"inch"},inch:{regex:/^"$/i,singular:" inch",plural:" inche",join:!0,unit:N.IMPERIAL,converters:{cm:e=>e*2.54}},hour:{regex:/hour[s]?$/i,skip:!0},minute:{regex:/minute[s]?$/i,skip:!0},day:{regex:/day[s]?$/i,skip:!0}};function bl(e,t,r,n){e.alias&&(e=pt[e.alias]);let i=t*n;if(e.ignore_scale&&(i=t),!(r===N.ANY||r===N.ORIGINAL)&&r!==e.unit)if(e.converters){let l=Object.keys(e.converters)[0];i=e.converters[l](i),e=pt[l]}else return null;return i=On(i,2,!0),!e.plural||typeof i=="string"||i<=1.1?e.join?`${i}${e.singular}`:`${i} ${e.singular}`:e.join?`${i}${e.plural}`:`${i} ${e.plural}`}function wl(e,t,r){if(Xt(e))return z(t,1)&&r===N.ORIGINAL?e:null;for(let a of Object.values(pt))if(a.regex.exec(e)!=null&&a.skip)return e;let n=a=>{if(a=a.trim(),Xt(a))return Number(a);let s=a.match(/^([0-9]+)\/([0-9]+)$/);return s?Number(s[1])/Number(s[2]):(s=a.match(/^([0-9])\s([0-9]+)\/([0-9]+)$/),s?Number(s[1])+Number(s[2])/Number(s[3]):NaN)};e=e.replace(/ and /," ");let i=e.match(new RegExp(Mn(String.raw`
					// Number and space prefix
					(?:[0-9]+ )?

					// Decimal prefix
					(?:\.[0-9]+)*

					// Some number
					[0-9]+

					// number-[other number]
					(?:\s*[\/-]\s*[0-9]+)*

					// number and [other number]
					(?: and [0-9]+)?

					(?:\/[0-9]+)*

					// Decimal suffix
					(?:\.[0-9]+)*`),"gi"));if(i==null)return z(t,1)&&r===N.ORIGINAL?e:null;let l=e;for(let a=0;a<i.length;a++){let s=i[a];i[a]=n(s),e=e.replace(s,"").trim()}let u=i.reduce((a,s)=>a+s,0);if(u<0||isNaN(u))return z(t,1)&&r===N.ORIGINAL?l:null;for(let a of Object.values(pt))if(a.regex.exec(e)!=null){let s=bl(a,u,r,t);if(s)return s}return null}let ml=0;const qe=re([]);function we(e,t=""){console.info(e),qe.push({text:e,extra_class:t,id:++ml})}function kl(e){for(let t=0;t<qe.length;t++)qe[t]&&qe[t]===e&&(qe.splice(t,1),t-=1)}var T=(e=>(e[e.Unknown=0]="Unknown",e[e.Plain=1]="Plain",e[e.Bold=2]="Bold",e[e.Italic=3]="Italic",e[e.Ingredient=4]="Ingredient",e[e.Temperature=5]="Temperature",e[e.Amount=6]="Amount",e))(T||{});function yl(e){let t={};for(let i of[e.ingredients,e.instructions])xl(i,t,[{kw_type:T.Temperature,regex:/(\b[0-9]+°\s*[CF]?\b)/gi},{kw_type:T.Amount,regex:new RegExp(gl,"gi")}]);for(let i=0;i<e.ingredients.length;i++){let l=e.ingredients[i];if(l.startsWith(Re)){l=l.replace(Re,"");{let u=/^(?:(?:\*\*[^\*\*]+\*\*)+[\s\(\),]*)+([^,^\(^\*]+)/i;const a=l.match(u);if(a){let s=a[a.length-1].trim();l=l.replace(s,`**${s}**`),s=s.toLowerCase(),t[s]=T.Ingredient;let o=s.split(" ");for(let c=1;o.length-c>0;c++){let _=Ln(s,o.length-c);t[_]=T.Ingredient}}}}e.ingredients[i]=l}let r=Object.keys(t);r.sort(Sn);for(let i=0;i<e.instructions.length;i++){let l=e.instructions[i];for(let u of r)l=Zt(l,a=>(a=a.replaceAll(new RegExp(String.raw`\b${u}\b`,"gi"),`**${u}**`),a));e.instructions[i]=l}let n=/(\b[0-9]+)\b/gi;for(let i of[e.ingredients,e.instructions])for(let l=0;l<i.length;l++){let u=i[l];u=u.split(/(\*\*[^\*]+\*\*)/).map(a=>{if(a.startsWith("**")&&a.endsWith("**"))return a;let s=a.match(n);if(s){a=a.replaceAll(n,"**$1**");for(let o of s)t[o]=T.Amount}return a}).join(""),i[l]=u}return t}function xl(e,t,r){for(let n=0;n<e.length;n++)for(let i of r){let l=i.regex,u=i.kw_type;e[n]=Zt(e[n],a=>{if(a.startsWith("**")&&a.endsWith("**"))return a;const s=[...new Set(a.match(l)||[])];s.sort(Sn);for(let o of s){let c=o.trim();!c.length||Xt(c)||(a=Zt(a,_=>_.replaceAll(c,`**${c}**`)),c=c.toLowerCase(),t[c]=u)}return a})}}function Wr(e){if(e.nodeName.startsWith("H")){let t=!0;for(;t;){t=!1;for(let r of e.children)r.nodeName=="DIV"&&(e.removeChild(r),t=!0)}}return(e.textContent||"").replace(/▢/,"").replaceAll(/(\.)([A-Z])/g,"$1 $2").replace(/^(?:Step\s*)?[0-9]+\.\s+/,"").replaceAll(" , ",", ").replaceAll("–","-").replaceAll("”",'"').replaceAll("½","1/2").replaceAll("¾","3/4").replaceAll("⅓","1/3").replaceAll("⅔","2/3").replaceAll("¼","1/4").replaceAll(/([0-9]+)\s+-\s+([0-9]+)/g,"$1-$2").trim()}function El(e,t,r){let i=new DOMParser().parseFromString(t,"text/html"),l=ge.None,u=null,a={},s=[],o=[],c=[];r=r||Il(i);let _=[...i.querySelectorAll("li,p,h1,h2,h3,h4,h5,h6")],f=Math.max(0,_.map(v=>Wr(v)).findLastIndex(v=>v.toLowerCase()==="ingredients"));for(let v=f;v<_.length;v++){let d=_[v];d.nodeName.startsWith("H")&&d.nodeName==u&&(l=ge.None);let p=Wr(d);if(!p.length)continue;switch(p.toLowerCase()){case"ingredients":l=ge.Ingredients,u=d.nodeName;continue;case"instructions":l=ge.Instructions,u=d.nodeName;continue;case"notes":l=ge.Notes,u=d.nodeName;continue}switch(d.nodeName){case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"H7":case"H8":case"H9":p=p.replace(/:$/,""),p=`${dt}${p}`;break;default:p=`${Re}${p}`;break}switch(l){case ge.Ingredients:s.push(p);break;case ge.Instructions:if(p.startsWith(Re)){let w=p.replace(Re,"").match(/^([^\.\:]+):(.+)/);w?(o.push(`${ht}${w[1]}`),o.push(`${Re}${w[2]}`)):o.push(p)}break;case ge.Notes:c.push(p);break}}return{title:r,ingredients:s,instructions:o,notes:c,keywords:a,url:e}}function Il(e){for(let t of e.querySelectorAll("meta"))if(t.getAttribute("property")==="og:title")return t.getAttribute("content")||"";return""}function Wt(e,t,r){let n="";if(e.length){n+=`

## ${r}
`;for(let i of e)i.startsWith(dt)||i.startsWith(ht)?i=`

${i}
`:n+=`
${i}`}return n}function Al(e){let t="";return e.title&&(t+=`# ${e.title}
`),t+=Wt(e.ingredients,e.keywords,"Ingredients"),t+=Wt(e.instructions,e.keywords,"Instructions"),t+=Wt(e.notes,e.keywords,"Notes"),t.trim()}function Nl(e,t,r){if(!r)return[{type:T.Plain,text:Yt(e)}];let n=[];for(let i of e.split(/(\*\*[^\*]+\*\*)/))if(i)if(i.startsWith("**")&&i.endsWith("**"))i=i.replace(/^\*\*/,"").replace(/\*\*$/,""),n.push({text:i,type:t[i.toLowerCase()]||T.Unknown});else{let l=i;for(let u of l.split(/(\*[^\*]+\*)/))u&&(u.startsWith("*")&&u.endsWith("*")?(u=u.replace(/^\*/,"").replace(/\*$/,""),n.push({type:T.Italic,text:u})):n.push({type:T.Plain,text:u}))}return n}function fr(){try{return JSON.parse(localStorage.getItem(or.RECIPES)||"[]")}catch(e){return console.error(e),[]}}function Tn(e){localStorage.setItem(or.RECIPES,JSON.stringify(e))}function Rl(e){let t=fr();for(let r of t)if(r.url===e)return r;return null}function Cl(e,t=!0){let r=fr();return r=Dn(r,e.url,!1),r.push(e),t&&Tn(r),r}function Dn(e,t,r=!0){return e=e.filter(n=>n.url!==t),r&&Tn(e),e}async function Ll(e,t="",r=!1){if(!Pn(e))return we("ERROR","error"),null;if(!r){let i=Rl(e);if(i)return we("Done!","success"),i}let n=await fetch(`https://corsproxy.io/?url=${encodeURI(e)}`);if(n.status!==200)we("ERROR","error");else{let i=await n.text(),l=El(e,i,t);return Cl(l),we("Done!","success"),l}return null}function Ml(e,t){if(!e)return null;let r=structuredClone(e);return t?r.keywords=yl(r):r.keywords={},r}function Ol(e,t,r,n){return e?[Ft("Ingredients",e.ingredients,e.keywords,t,r,n),Ft("Instructions",e.instructions,e.keywords,t,r,n),Ft("Notes",e.notes,e.keywords,t,r,n)]:[]}function Ft(e,t,r,n,i,l){let u=[],a={text:e,level:2,rows:[]};if(t.length){u.push(a);for(let s of t){if(s.startsWith(Re))s=s.substr(Re.length);else if(s.startsWith(dt)){s=s.substr(dt.length),u.push(a={level:3,text:Yt(s),rows:[]}),u.push(a);continue}else if(s.startsWith(ht)){s=s.substr(ht.length),u.push(a={level:4,text:Yt(s),rows:[]});continue}a.rows.push({fragments:Nl(s,r,n),id:pl("row")})}for(let s of u)for(let o of s.rows)for(let c of o.fragments)switch(c.type){case T.Ingredient:c.id=dl(r,c.text);break;case T.Amount:let _=c.text,f=wl(_,l,i);f===null?c.failed=!0:f!==_&&(c.text=f,c.converted=!0);break}}return u}var Sl=(e,t)=>t.onBack(),Pl=(e,t,r)=>{e.stopPropagation(),t.onOpenUrl(h(r).url)},Tl=(e,t,r)=>{e.stopPropagation(),L(t,Dn(h(t),h(r).url),!0)},Dl=S('<div class="recipe-row" role="button" tabindex="0"><span class="grow"> </span> <button class="pink shrink">Delete</button></div>'),$l=S('<main class="my-recipes"><div class="full-width mb1 right"><button class="pink shrink">Back</button></div> <h2 class="grow no-margin">My Saved Recipes</h2> <!></main>');function Hl(e,t){Se(t,!0);let r=D(re(fr()));var n=$l(),i=E(n),l=E(i);l.__click=[Sl,t];var u=M(i,4);Fe(u,17,()=>h(r),Je,(a,s)=>{var o=Dl();o.__click=[Pl,t,s];var c=E(o),_=E(c),f=M(c,2);f.__click=[Tl,r,s],j(()=>ae(_,h(s).title||"<missing title>")),wn("keypress",o,v=>{}),C(a,o)}),C(e,n),Pe()}Ct(["click"]);const ql=e=>e;function Wl(e,{delay:t=0,duration:r=400,easing:n=ql}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:n,css:l=>`opacity: ${l*i}`}}var Fl=S("<div> </div>");function Ul(e,t){Se(t,!0),setTimeout(()=>{kl(t.notification)},3e3);var r=Fl(),n=E(r);j(()=>{se(r,1,`notification ${t.notification.extra_class??""}`,"svelte-106uj2k"),ae(n,t.notification.text)}),al(2,r,()=>Wl,()=>({duration:3e3})),C(e,r),Pe()}var jl=S('<div class="notifications svelte-rru4ft"></div>');function Bl(e){var t=jl();Fe(t,5,()=>qe,r=>r.id,(r,n)=>{Ul(r,{get notification(){return h(n)}})}),C(e,t)}let ze=null;const Ut=async()=>{document.visibilityState==="visible"&&setTimeout(async()=>await $n(),1e3)},Gl=async e=>{if(navigator.wakeLock)if(e)await $n(),document.removeEventListener("visibilitychange",Ut),document.addEventListener("visibilitychange",Ut);else{console.info("Disabling wake lock");let t=ze;ze=null,t&&t.release(),document.removeEventListener("visibilitychange",Ut)}},$n=async()=>{try{if(ze)try{console.info("Releasing old wake lock"),await ze.release()}catch{}ze=await navigator.wakeLock.request("screen"),console.info("Wake Lock is active")}catch(e){console.error(e)}};var Kl=S("<h2> </h2>"),Vl=S("<h3> </h3>"),zl=S("<h4> </h4>"),Yl=(e,t)=>t.onFocusSection(t.section),Xl=(e,t,r)=>{t()[h(r).id]=e.target.checked},Zl=S("<span> </span>"),Jl=S("<b> </b>"),Ql=S("<b> </b>"),ea=(e,t,r)=>{h(t).type===T.Ingredient&&(e.preventDefault(),r.onHighlightKeyword(h(t).id))},ta=S('<span role="button" tabindex="0"> </span>'),ra=S('<label><input type="checkbox"> <div></div></label>'),na=S('<div class="list"><div><!> <div class="center"><button tabindex="0"><!></button></div></div> <!></div>');function ia(e,t){Se(t,!0);let r=Cn(t,"checkedItems");function n(g){switch(g.type){case T.Ingredient:return"ingredient";case T.Temperature:return"temperature";case T.Amount:return"amount";default:return""}}function i(g){return t.selectedKeyword&&g.fragments.find(w=>w.id==t.selectedKeyword)}var l=na(),u=E(l);Vt(u,"",{},{display:"flex",gap:"0.5rem"});var a=E(u);{var s=g=>{var w=Kl(),y=E(w);j(()=>ae(y,t.section.text)),C(g,w)},o=(g,w)=>{{var y=b=>{var k=Vl(),H=E(k);j(()=>ae(H,t.section.text)),C(b,k)},R=(b,k)=>{{var H=x=>{var $=zl(),ce=E($);j(()=>ae(ce,t.section.text)),C(x,$)};W(b,x=>{t.section.level===4&&x(H)},k)}};W(g,b=>{t.section.level===3?b(y):b(R,!1)},w)}};W(a,g=>{t.section.level===2?g(s):g(o,!1)})}var c=M(a,2);Vt(c,"",{},{display:"flex"});var _=E(c);_.__click=[Yl,t];var f=E(_);{var v=g=>{var w=Or("close");C(g,w)},d=g=>{var w=Or("focus");C(g,w)};W(f,g=>{t.isFocused?g(v):g(d,!1)})}var p=M(u,2);Fe(p,17,()=>t.section.rows,Je,(g,w)=>{var y=ra();let R;var b=E(y);b.__change=[Xl,r,w];var k=M(b,2);Fe(k,21,()=>h(w).fragments,Je,(H,x)=>{var $=mn(),ce=Ke($);{var ve=X=>{var _e=Zl(),de=E(_e);j(()=>ae(de,h(x).text)),C(X,_e)},le=(X,_e)=>{{var de=ee=>{var he=Jl(),xe=E(he);j(()=>ae(xe,h(x).text)),C(ee,he)},Te=(ee,he)=>{{var xe=Ee=>{var m=Ql(),P=E(m);j(()=>ae(P,h(x).text)),C(Ee,m)},Lt=Ee=>{var m=ta();let P;m.__click=[ea,x,t];var K=E(m);j((pe,Ce)=>{P=se(m,1,pe,null,P,Ce),ae(K,h(x).text)},[()=>Vi(n(h(x))),()=>({failed:h(x).failed,converted:h(x).converted,selected:t.selectedKeyword&&t.selectedKeyword==h(x).id})]),wn("keypress",m,pe=>{}),C(Ee,m)};W(ee,Ee=>{h(x).type===T.Italic?Ee(xe):Ee(Lt,!1)},he)}};W(X,ee=>{h(x).type===T.Bold?ee(de):ee(Te,!1)},_e)}};W(ce,X=>{h(x).type===T.Plain?X(ve):X(le,!1)})}C(H,$)}),j(H=>{R=se(y,1,"",null,R,H),Ji(b,r()[h(w).id])},[()=>({selected:i(h(w))})]),C(g,y)}),C(e,l),Pe()}Ct(["click","change"]);var la=S('<div class="focus-pane"><div class="focus-pane-content"><!></div> <!></div>');function aa(e,t){Se(t,!0);let r=re({did_drag:!1,total_height:0}),n=D("30vh"),i;ol(async()=>{await Oi(),r.total_height=i.scrollHeight+10,L(n,`min(30vh, ${r.total_height}px)`)}),lr(()=>{});var l=la();let u;var a=E(l),s=E(a);Gi(s,()=>t.content);var o=M(a,2);W(o,c=>{}),sl(l,c=>i=c,()=>i),j(()=>u=Vt(l,"",u,{"min-height":h(n)})),C(e,l),Pe()}Ct(["mousedown"]);var sa=S('<p>Welcome to recipe scraper!</p> <p>New here? <a href="https://github.com/loremdipso/recipe-scraper?tab=readme-ov-file#recipe-scraper" target="_blank">Here</a> are some instructions to get you started.</p>',1);function ua(e){var t=sa();C(e,t)}var oa=async(e,t)=>{if(h(t)){let r=Al(h(t));await navigator.clipboard.writeText(r),we("Copied to clipboard :)")}},fa=S('<button id="share-button" class="black">Share</button>'),ca=(e,t)=>t.onMyRecipes(),va=async(e,t)=>{await h(t).prompt(),L(t,null)},_a=S("<h1> </h1>"),da=(e,t)=>{L(t,!h(t))},ha=async e=>{await Gl(e.target.checked)},pa=S('<label><input type="checkbox" checked> Keep screen on</label>'),ga=(e,t)=>t(N.IMPERIAL),ba=(e,t)=>t(N.ORIGINAL),wa=(e,t)=>t(N.METRIC),ma=async(e,t,r)=>{t()?(we("Reloading..."),await r(!0)):we("No url!","error")},ka=(e,t)=>t(.5),ya=(e,t)=>t(1),xa=(e,t)=>t(2),Ea=S('<!> <div class="flex-row center mb1 mt1"><div class="flex-col"><button class="mb1">Toggle colors</button> <!> <div class="flex-row"><button>Imperial</button> <button>Original</button> <button>Metric</button></div></div> <div class="flex-col"><a target="_blank">Open the original</a> <button>Reload</button> <div class="flex-row"><button>0.5x</button> <button>1x</button> <button>2x</button></div></div></div> <!>',1),Ia=S('<main><div class="input full-width"><button class="green">Copy from clipboard</button> <button class="blue">Get markdown</button> <!> <button class="pink">My recipes</button> <button id="install-button" class="purple">Install</button></div> <div class="output"><!></div></main>  <!>',1);function Aa(e,t){Se(t,!0);const[r,n]=Rn(),i=()=>Nn(s,"$data",r),l=m=>{u(m,()=>h(p),()=>!0)},u=(m,P=B,K=B)=>{ia(m,{get section(){return P()},get isFocused(){return K()},get selectedKeyword(){return h(v)},get checkedItems(){return h(d)},onHighlightKeyword:pe=>{pe===h(v)?L(v,null):L(v,pe,!0)},onFocusSection:pe=>{K()?L(p,null):L(p,P(),!0)}})};let a=Cn(t,"current_url");const s=An(null);let o=D(re(N.ORIGINAL)),c=D(1),_=D(!0);const f=Nr(()=>Ml(i(),h(_)));let v=D(null),d=D(re({})),p=D(null),g=Nr(()=>Ol(h(f),h(_),h(o),h(c))),w="";lr(()=>{a()!==w&&(w=a(),(async()=>b(!1))())});function y(m){m!==h(o)&&L(o,m,!0)}function R(m){z(m,h(c))||L(c,m,!0)}async function b(m=!1){if(L(d,{},!0),s.set(await Ll(a(),"",m)),L(v,null),L(p,null),a()!==window.location.href){const P=new URL(window.location.href);P.searchParams.set("url",a()),window.history.pushState({},"",P.toString())}}let k=D(null);window.addEventListener("beforeinstallprompt",m=>{m.preventDefault(),L(k,m,!0)});var H=Ia(),x=Ke(H),$=E(x),ce=E($);ce.__click=async()=>{const m=await navigator.clipboard.read();for(const P of m)for(const K of P.types){const Ce=await(await P.getType(K)).text();if(s.set(null),Pn(Ce)){we("Loading..."),a(Ce);return}else we("ERROR: that doesn't look like a URL","error")}};var ve=M(ce,2);ve.__click=[oa,f];var le=M(ve,2);{var X=m=>{var P=fa();P.__click=async()=>{const K=new URL(window.location.href);K.search="",a()&&K.searchParams.set("url",a()),await navigator.share({title:"Here's a recipe for ya!",url:K.toString()})},C(m,P)};W(le,m=>{navigator.share&&m(X)})}var _e=M(le,2);_e.__click=[ca,t];var de=M(_e,2);de.__click=[va,k];var Te=M($,2),ee=E(Te);{var he=m=>{var P=Ea(),K=Ke(P);{var pe=te=>{var Z=_a(),Ie=E(Z);j(()=>{var De;return ae(Ie,(De=h(f))==null?void 0:De.title)}),C(te,Z)};W(K,te=>{var Z;(Z=h(f))!=null&&Z.title&&te(pe)})}var Ce=M(K,2),cr=E(Ce),vr=E(cr);vr.__click=[da,_];var _r=M(vr,2);{var Hn=te=>{var Z=pa(),Ie=E(Z);Ie.__change=[ha],C(te,Z)};W(_r,te=>{navigator.wakeLock&&te(Hn)})}var qn=M(_r,2),Mt=E(qn);let dr;Mt.__click=[ga,y];var Ot=M(Mt,2);let hr;Ot.__click=[ba,y];var pr=M(Ot,2);let gr;pr.__click=[wa,y];var Wn=M(cr,2),St=E(Wn);let br;var wr=M(St,2);wr.__click=[ma,a,b];var Fn=M(wr,2),Pt=E(Fn);let mr;Pt.__click=[ka,R];var Tt=M(Pt,2);let kr;Tt.__click=[ya,R];var yr=M(Tt,2);let xr;yr.__click=[xa,R];var Un=M(Ce,2);Fe(Un,17,()=>h(g),Je,(te,Z)=>{var Ie=mn(),De=Ke(Ie);Fe(De,17,()=>h(Z),Je,(Dt,$t)=>{u(Dt,()=>h($t),()=>!1)}),C(te,Ie)}),j((te,Z,Ie,De,Dt,$t,jn)=>{dr=se(Mt,1,"rounded-button black",null,dr,te),hr=se(Ot,1,"rounded-button black",null,hr,Z),gr=se(pr,1,"rounded-button black",null,gr,Ie),br=se(St,1,"mb1",null,br,De),Qi(St,"href",a()),mr=se(Pt,1,"rounded-button black",null,mr,Dt),kr=se(Tt,1,"rounded-button black",null,kr,$t),xr=se(yr,1,"rounded-button black",null,xr,jn)},[()=>({selected:h(o)==N.IMPERIAL}),()=>({selected:h(o)==N.ORIGINAL}),()=>({selected:h(o)==N.METRIC}),()=>({disabled:!a()}),()=>({selected:z(h(c),.5)}),()=>({selected:z(h(c),1)}),()=>({selected:z(h(c),2)})]),C(m,P)},xe=m=>{ua(m)};W(ee,m=>{h(f)?m(he):m(xe,!1)})}var Lt=M(x,2);{var Ee=m=>{aa(m,{content:l})};W(Lt,m=>{h(p)&&m(Ee)})}j(()=>{ve.disabled=!h(f),de.hidden=!h(k)}),C(e,H),Pe(),n()}Ct(["click","change"]);var Na=S("<!> <!> <!>",1);function Ra(e,t){Se(t,!0);const[r,n]=Rn(),i=()=>Nn(l,"$current_page",r),l=An(Le.Recipe);let u=D(""),a=new URL(document.location);const s=a.searchParams.get("link")||a.searchParams.get("description")||a.searchParams.get("url");s?L(u,decodeURI(s),!0):a.searchParams.get("my-recipes")&&l.set(Le.MyRecipes);var o=Na(),c=Ke(o);_l(c);var _=M(c,2);{var f=p=>{Aa(p,{onMyRecipes:()=>l.set(Le.MyRecipes),get current_url(){return h(u)}})},v=(p,g)=>{{var w=y=>{Hl(y,{onBack:()=>l.set(Le.Recipe),onOpenUrl:R=>{L(u,R,!0),l.set(Le.Recipe)}})};W(p,y=>{i()===Le.MyRecipes&&y(w)},g)}};W(_,p=>{i()===Le.Recipe?p(f):p(v,!1)})}var d=M(_,2);Bl(d),C(e,o),Pe(),n()}Hi(Ra,{target:document.getElementById("app")});

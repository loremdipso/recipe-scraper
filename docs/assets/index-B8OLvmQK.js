(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();const Rr=!1;var rr=Array.isArray,ei=Array.prototype.indexOf,nr=Array.from,Kr=Object.defineProperty,Ke=Object.getOwnPropertyDescriptor,ti=Object.getOwnPropertyDescriptors,ri=Object.prototype,ni=Array.prototype,zr=Object.getPrototypeOf,Ar=Object.isExtensible;function ii(e){return typeof e=="function"}const G=()=>{};function Yr(e){for(var t=0;t<e.length;t++)e[t]()}const le=2,Jr=4,mt=8,ir=16,ye=32,Be=64,st=128,X=256,ot=512,V=1024,ve=2048,Oe=4096,me=8192,kt=16384,li=32768,yt=65536,ai=1<<19,Xr=1<<20,Kt=1<<21,lt=Symbol("$state");function Zr(e){return e===this.v}function Qr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function en(e){return!Qr(e,this.v)}function si(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function oi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ui(e){throw new Error("https://svelte.dev/e/effect_orphan")}function fi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ci(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function vi(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function _i(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let tt=!1,di=!1;function hi(){tt=!0}const lr=1,ar=2,tn=4,pi=8,gi=16,bi=4,wi=1,mi=2,j=Symbol(),ki="http://www.w3.org/1999/xhtml";function yi(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let M=null;function Nr(e){M=e}function Ne(e,t=!1,r){var n=M={p:M,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};tt&&!t&&(M.l={s:null,u:null,r1:[],r2:Ze(!1)}),or(()=>{n.d=!0})}function Ce(e){const t=M;if(t!==null){const o=t.e;if(o!==null){var r=x,n=R;t.e=null;try{for(var i=0;i<o.length;i++){var l=o[i];_e(l.effect),Q(l.reaction),ur(l.fn)}}finally{_e(r),Q(n)}}M=t.p,t.m=!0}return{}}function Et(){return!tt||M!==null&&M.l===null}function J(e){if(typeof e!="object"||e===null||lt in e)return e;const t=zr(e);if(t!==ri&&t!==ni)return e;var r=new Map,n=rr(e),i=F(0),l=R,o=a=>{var s=R;Q(l);var u=a();return Q(s),u};return n&&r.set("length",F(e.length)),new Proxy(e,{defineProperty(a,s,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&ci();var c=r.get(s);return c===void 0?(c=o(()=>F(u.value)),r.set(s,c)):S(c,o(()=>J(u.value))),!0},deleteProperty(a,s){var u=r.get(s);if(u===void 0)s in a&&(r.set(s,o(()=>F(j))),Ut(i));else{if(n&&typeof s=="string"){var c=r.get("length"),_=Number(s);Number.isInteger(_)&&_<c.v&&S(c,_)}S(u,j),Ut(i)}return!0},get(a,s,u){var v;if(s===lt)return e;var c=r.get(s),_=s in a;if(c===void 0&&(!_||(v=Ke(a,s))!=null&&v.writable)&&(c=o(()=>F(J(_?a[s]:j))),r.set(s,c)),c!==void 0){var f=h(c);return f===j?void 0:f}return Reflect.get(a,s,u)},getOwnPropertyDescriptor(a,s){var u=Reflect.getOwnPropertyDescriptor(a,s);if(u&&"value"in u){var c=r.get(s);c&&(u.value=h(c))}else if(u===void 0){var _=r.get(s),f=_==null?void 0:_.v;if(_!==void 0&&f!==j)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return u},has(a,s){var f;if(s===lt)return!0;var u=r.get(s),c=u!==void 0&&u.v!==j||Reflect.has(a,s);if(u!==void 0||x!==null&&(!c||(f=Ke(a,s))!=null&&f.writable)){u===void 0&&(u=o(()=>F(c?J(a[s]):j)),r.set(s,u));var _=h(u);if(_===j)return!1}return c},set(a,s,u,c){var w;var _=r.get(s),f=s in a;if(n&&s==="length")for(var v=u;v<_.v;v+=1){var d=r.get(v+"");d!==void 0?S(d,j):v in a&&(d=o(()=>F(j)),r.set(v+"",d))}_===void 0?(!f||(w=Ke(a,s))!=null&&w.writable)&&(_=o(()=>F(void 0)),S(_,o(()=>J(u))),r.set(s,_)):(f=_.v!==j,S(_,o(()=>J(u))));var p=Reflect.getOwnPropertyDescriptor(a,s);if(p!=null&&p.set&&p.set.call(c,u),!f){if(n&&typeof s=="string"){var A=r.get("length"),g=Number(s);Number.isInteger(g)&&g>=A.v&&S(A,g+1)}Ut(i)}return!0},ownKeys(a){h(i);var s=Reflect.ownKeys(a).filter(_=>{var f=r.get(_);return f===void 0||f.v!==j});for(var[u,c]of r)c.v!==j&&!(u in a)&&s.push(u);return s},setPrototypeOf(){vi()}})}function Ut(e,t=1){S(e,e.v+t)}function xt(e){var t=le|ve,r=R!==null&&(R.f&le)!==0?R:null;return x===null||r!==null&&(r.f&X)!==0?t|=X:x.f|=Xr,{ctx:M,deps:null,effects:null,equals:Zr,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??x}}function Cr(e){const t=xt(e);return pn(t),t}function Ei(e){const t=xt(e);return t.equals=en,t}function rn(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)ke(t[r])}}function xi(e){for(var t=e.parent;t!==null;){if((t.f&le)===0)return t;t=t.parent}return null}function nn(e){var t,r=x;_e(xi(e));try{rn(e),t=mn(e)}finally{_e(r)}return t}function ln(e){var t=nn(e),r=(Re||(e.f&X)!==0)&&e.deps!==null?Oe:V;ae(e,r),e.equals(t)||(e.v=t,e.wv=bn())}const Xe=new Map;function Ze(e,t){var r={f:0,v:e,reactions:null,equals:Zr,rv:0,wv:0};return r}function F(e,t){const r=Ze(e);return pn(r),r}function sr(e,t=!1){var n;const r=Ze(e);return t||(r.equals=en),tt&&M!==null&&M.l!==null&&((n=M.l).s??(n.s=[])).push(r),r}function S(e,t,r=!1){R!==null&&!ce&&Et()&&(R.f&(le|ir))!==0&&!(U!=null&&U.includes(e))&&_i();let n=r?J(t):t;return zt(e,n)}function zt(e,t){if(!e.equals(t)){var r=e.v;rt?Xe.set(e,t):Xe.set(e,r),e.v=t,(e.f&le)!==0&&((e.f&ve)!==0&&nn(e),ae(e,(e.f&X)===0?V:Oe)),e.wv=bn(),an(e,ve),Et()&&x!==null&&(x.f&V)!==0&&(x.f&(ye|Be))===0&&(Z===null?Ti([e]):Z.push(e))}return t}function an(e,t){var r=e.reactions;if(r!==null)for(var n=Et(),i=r.length,l=0;l<i;l++){var o=r[l],a=o.f;(a&ve)===0&&(!n&&o===x||(ae(o,t),(a&(V|X))!==0&&((a&le)!==0?an(o,Oe):St(o))))}}let Ii=!1;var Lr,sn,on,un;function Ri(){if(Lr===void 0){Lr=window,sn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;on=Ke(t,"firstChild").get,un=Ke(t,"nextSibling").get,Ar(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ar(r)&&(r.__t=void 0)}}function It(e=""){return document.createTextNode(e)}function ut(e){return on.call(e)}function Rt(e){return un.call(e)}function y(e,t){return ut(e)}function ze(e,t){{var r=ut(e);return r instanceof Comment&&r.data===""?Rt(r):r}}function C(e,t=1,r=!1){let n=e;for(;t--;)n=Rt(n);return n}function Ai(e){e.textContent=""}function Ni(e){x===null&&R===null&&ui(),R!==null&&(R.f&X)!==0&&x===null&&oi(),rt&&si()}function Ci(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function je(e,t,r,n=!0){var i=x,l={ctx:M,deps:null,nodes_start:null,nodes_end:null,f:e|ve,first:null,fn:t,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(r)try{cr(l),l.f|=li}catch(s){throw ke(l),s}else t!==null&&St(l);var o=r&&l.deps===null&&l.first===null&&l.nodes_start===null&&l.teardown===null&&(l.f&(Xr|st))===0;if(!o&&n&&(i!==null&&Ci(l,i),R!==null&&(R.f&le)!==0)){var a=R;(a.effects??(a.effects=[])).push(l)}return l}function or(e){const t=je(mt,null,!1);return ae(t,V),t.teardown=e,t}function At(e){Ni();var t=x!==null&&(x.f&ye)!==0&&M!==null&&!M.m;if(t){var r=M;(r.e??(r.e=[])).push({fn:e,effect:x,reaction:R})}else{var n=ur(e);return n}}function Li(e){const t=je(Be,e,!0);return(r={})=>new Promise(n=>{r.outro?ft(t,()=>{ke(t),n(void 0)}):(ke(t),n(void 0))})}function ur(e){return je(Jr,e,!1)}function Si(e){return je(mt,e,!0)}function H(e,t=[],r=xt){const n=t.map(r);return Nt(()=>e(...n.map(h)))}function Nt(e,t=0){return je(mt|ir|t,e,!0)}function $e(e,t=!0){return je(mt|ye,e,!0,t)}function fn(e){var t=e.teardown;if(t!==null){const r=rt,n=R;Mr(!0),Q(null);try{t.call(null)}finally{Mr(r),Q(n)}}}function cn(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;(r.f&Be)!==0?r.parent=null:ke(r,t),r=n}}function Mi(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&ye)===0&&ke(t),t=r}}function ke(e,t=!0){var r=!1;(t||(e.f&ai)!==0)&&e.nodes_start!==null&&(Oi(e.nodes_start,e.nodes_end),r=!0),cn(e,t&&!r),ht(e,0),ae(e,kt);var n=e.transitions;if(n!==null)for(const l of n)l.stop();fn(e);var i=e.parent;i!==null&&i.first!==null&&vn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Oi(e,t){for(;e!==null;){var r=e===t?null:Rt(e);e.remove(),e=r}}function vn(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function ft(e,t){var r=[];fr(e,r,!0),_n(r,()=>{ke(e),t&&t()})}function _n(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var i of e)i.out(n)}else t()}function fr(e,t,r){if((e.f&me)===0){if(e.f^=me,e.transitions!==null)for(const o of e.transitions)(o.is_global||r)&&t.push(o);for(var n=e.first;n!==null;){var i=n.next,l=(n.f&yt)!==0||(n.f&ye)!==0;fr(n,t,l?r:!1),n=i}}}function ct(e){dn(e,!0)}function dn(e,t){if((e.f&me)!==0){e.f^=me,(e.f&V)===0&&(e.f^=V),nt(e)&&(ae(e,ve),St(e));for(var r=e.first;r!==null;){var n=r.next,i=(r.f&yt)!==0||(r.f&ye)!==0;dn(r,i?t:!1),r=n}if(e.transitions!==null)for(const l of e.transitions)(l.is_global||t)&&l.in()}}let Qe=[],Yt=[];function hn(){var e=Qe;Qe=[],Yr(e)}function Pi(){var e=Yt;Yt=[],Yr(e)}function Ct(e){Qe.length===0&&queueMicrotask(hn),Qe.push(e)}function Sr(){Qe.length>0&&hn(),Yt.length>0&&Pi()}let at=!1,vt=!1,_t=null,Me=!1,rt=!1;function Mr(e){rt=e}let Ye=[];let R=null,ce=!1;function Q(e){R=e}let x=null;function _e(e){x=e}let U=null;function pn(e){R!==null&&R.f&Kt&&(U===null?U=[e]:U.push(e))}let q=null,z=0,Z=null;function Ti(e){Z=e}let gn=1,dt=0,Re=!1;function bn(){return++gn}function nt(e){var _;var t=e.f;if((t&ve)!==0)return!0;if((t&Oe)!==0){var r=e.deps,n=(t&X)!==0;if(r!==null){var i,l,o=(t&ot)!==0,a=n&&x!==null&&!Re,s=r.length;if(o||a){var u=e,c=u.parent;for(i=0;i<s;i++)l=r[i],(o||!((_=l==null?void 0:l.reactions)!=null&&_.includes(u)))&&(l.reactions??(l.reactions=[])).push(u);o&&(u.f^=ot),a&&c!==null&&(c.f&X)===0&&(u.f^=X)}for(i=0;i<s;i++)if(l=r[i],nt(l)&&ln(l),l.wv>e.wv)return!0}(!n||x!==null&&!Re)&&ae(e,V)}return!1}function Di(e,t){for(var r=t;r!==null;){if((r.f&st)!==0)try{r.fn(e);return}catch{r.f^=st}r=r.parent}throw at=!1,e}function Or(e){return(e.f&kt)===0&&(e.parent===null||(e.parent.f&st)===0)}function Lt(e,t,r,n){if(at){if(r===null&&(at=!1),Or(t))throw e;return}if(r!==null&&(at=!0),Di(e,t),Or(t))throw e}function wn(e,t,r=!0){var n=e.reactions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];U!=null&&U.includes(e)||((l.f&le)!==0?wn(l,t,!1):t===l&&(r?ae(l,ve):(l.f&V)!==0&&ae(l,Oe),St(l)))}}function mn(e){var v;var t=q,r=z,n=Z,i=R,l=Re,o=U,a=M,s=ce,u=e.f;q=null,z=0,Z=null,Re=(u&X)!==0&&(ce||!Me||R===null),R=(u&(ye|Be))===0?e:null,U=null,Nr(e.ctx),ce=!1,dt++,e.f|=Kt;try{var c=(0,e.fn)(),_=e.deps;if(q!==null){var f;if(ht(e,z),_!==null&&z>0)for(_.length=z+q.length,f=0;f<q.length;f++)_[z+f]=q[f];else e.deps=_=q;if(!Re)for(f=z;f<_.length;f++)((v=_[f]).reactions??(v.reactions=[])).push(e)}else _!==null&&z<_.length&&(ht(e,z),_.length=z);if(Et()&&Z!==null&&!ce&&_!==null&&(e.f&(le|Oe|ve))===0)for(f=0;f<Z.length;f++)wn(Z[f],e);return i!==null&&i!==e&&(dt++,Z!==null&&(n===null?n=Z:n.push(...Z))),c}finally{q=t,z=r,Z=n,R=i,Re=l,U=o,Nr(a),ce=s,e.f^=Kt}}function Fi(e,t){let r=t.reactions;if(r!==null){var n=ei.call(r,e);if(n!==-1){var i=r.length-1;i===0?r=t.reactions=null:(r[n]=r[i],r.pop())}}r===null&&(t.f&le)!==0&&(q===null||!q.includes(t))&&(ae(t,Oe),(t.f&(X|ot))===0&&(t.f^=ot),rn(t),ht(t,0))}function ht(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)Fi(e,r[n])}function cr(e){var t=e.f;if((t&kt)===0){ae(e,V);var r=x,n=M,i=Me;x=e,Me=!0;try{(t&ir)!==0?Mi(e):cn(e),fn(e);var l=mn(e);e.teardown=typeof l=="function"?l:null,e.wv=gn;var o=e.deps,a;Rr&&di&&e.f&ve}catch(s){Lt(s,e,r,n||e.ctx)}finally{Me=i,x=r}}}function Hi(){try{fi()}catch(e){if(_t!==null)Lt(e,_t,null);else throw e}}function kn(){var e=Me;try{var t=0;for(Me=!0;Ye.length>0;){t++>1e3&&Hi();var r=Ye,n=r.length;Ye=[];for(var i=0;i<n;i++){var l=$i(r[i]);qi(l)}Xe.clear()}}finally{vt=!1,Me=e,_t=null}}function qi(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if((n.f&(kt|me))===0)try{nt(n)&&(cr(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?vn(n):n.fn=null))}catch(i){Lt(i,n,null,n.ctx)}}}function St(e){vt||(vt=!0,queueMicrotask(kn));for(var t=_t=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&(Be|ye))!==0){if((r&V)===0)return;t.f^=V}}Ye.push(t)}function $i(e){for(var t=[],r=e;r!==null;){var n=r.f,i=(n&(ye|Be))!==0,l=i&&(n&V)!==0;if(!l&&(n&me)===0){if((n&Jr)!==0)t.push(r);else if(i)r.f^=V;else try{nt(r)&&cr(r)}catch(s){Lt(s,r,null,r.ctx)}var o=r.first;if(o!==null){r=o;continue}}var a=r.parent;for(r=r.next;r===null&&a!==null;)r=a.next,a=a.parent}return t}function Ui(e){var t;for(Sr();Ye.length>0;)vt=!0,kn(),Sr();return t}async function Wi(){await Promise.resolve(),Ui()}function h(e){var t=e.f,r=(t&le)!==0;if(R!==null&&!ce){if(!(U!=null&&U.includes(e))){var n=R.deps;e.rv<dt&&(e.rv=dt,q===null&&n!==null&&n[z]===e?z++:q===null?q=[e]:(!Re||!q.includes(e))&&q.push(e))}}else if(r&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&X)===0&&(i.f^=X)}return r&&(i=e,nt(i)&&ln(i)),rt&&Xe.has(e)?Xe.get(e):e.v}function Mt(e){var t=ce;try{return ce=!0,e()}finally{ce=t}}const Bi=-7169;function ae(e,t){e.f=e.f&Bi|t}const ji=["touchstart","touchmove"];function Gi(e){return ji.includes(e)}function yn(e){var t=R,r=x;Q(null),_e(null);try{return e()}finally{Q(t),_e(r)}}const En=new Set,Jt=new Set;function Vi(e,t,r,n={}){function i(l){if(n.capture||Ve.call(t,l),!l.cancelBubble)return yn(()=>r==null?void 0:r.call(this,l))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Ct(()=>{t.addEventListener(e,i,n)}):t.addEventListener(e,i,n),i}function xn(e,t,r,n,i){var l={capture:n,passive:i},o=Vi(e,t,r,l);(t===document.body||t===window||t===document)&&or(()=>{t.removeEventListener(e,o,l)})}function it(e){for(var t=0;t<e.length;t++)En.add(e[t]);for(var r of Jt)r(e)}function Ve(e){var w;var t=this,r=t.ownerDocument,n=e.type,i=((w=e.composedPath)==null?void 0:w.call(e))||[],l=i[0]||e.target,o=0,a=e.__root;if(a){var s=i.indexOf(a);if(s!==-1&&(t===document||t===window)){e.__root=t;return}var u=i.indexOf(t);if(u===-1)return;s<=u&&(o=s)}if(l=i[o]||e.target,l!==t){Kr(e,"currentTarget",{configurable:!0,get(){return l||r}});var c=R,_=x;Q(null),_e(null);try{for(var f,v=[];l!==null;){var d=l.assignedSlot||l.parentNode||l.host||null;try{var p=l["__"+n];if(p!=null&&(!l.disabled||e.target===l))if(rr(p)){var[A,...g]=p;A.apply(l,[e,...g])}else p.call(l,e)}catch(E){f?v.push(E):f=E}if(e.cancelBubble||d===t||d===null)break;l=d}if(f){for(let E of v)queueMicrotask(()=>{throw E});throw f}}finally{e.__root=t,delete e.currentTarget,Q(c),_e(_)}}}function Ki(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function pt(e,t){var r=x;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function O(e,t){var r=(t&wi)!==0,n=(t&mi)!==0,i,l=!e.startsWith("<!>");return()=>{i===void 0&&(i=Ki(l?e:"<!>"+e),r||(i=ut(i)));var o=n||sn?document.importNode(i,!0):i.cloneNode(!0);if(r){var a=ut(o),s=o.lastChild;pt(a,s)}else pt(o,o);return o}}function Pr(e=""){{var t=It(e+"");return pt(t,t),t}}function In(){var e=document.createDocumentFragment(),t=document.createComment(""),r=It();return e.append(t,r),pt(t,r),e}function L(e,t){e!==null&&e.before(t)}function ie(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function zi(e,t){return Yi(e,t)}const Fe=new Map;function Yi(e,{target:t,anchor:r,props:n={},events:i,context:l,intro:o=!0}){Ri();var a=new Set,s=_=>{for(var f=0;f<_.length;f++){var v=_[f];if(!a.has(v)){a.add(v);var d=Gi(v);t.addEventListener(v,Ve,{passive:d});var p=Fe.get(v);p===void 0?(document.addEventListener(v,Ve,{passive:d}),Fe.set(v,1)):Fe.set(v,p+1)}}};s(nr(En)),Jt.add(s);var u=void 0,c=Li(()=>{var _=r??t.appendChild(It());return $e(()=>{if(l){Ne({});var f=M;f.c=l}i&&(n.$$events=i),u=e(_,n)||{},l&&Ce()}),()=>{var d;for(var f of a){t.removeEventListener(f,Ve);var v=Fe.get(f);--v===0?(document.removeEventListener(f,Ve),Fe.delete(f)):Fe.set(f,v)}Jt.delete(s),_!==r&&((d=_.parentNode)==null||d.removeChild(_))}});return Ji.set(u,c),u}let Ji=new WeakMap;function $(e,t,[r,n]=[0,0]){var i=e,l=null,o=null,a=j,s=r>0?yt:0,u=!1;const c=(f,v=!0)=>{u=!0,_(v,f)},_=(f,v)=>{a!==(a=f)&&(a?(l?ct(l):v&&(l=$e(()=>v(i))),o&&ft(o,()=>{o=null})):(o?ct(o):v&&(o=$e(()=>v(i,[r+1,n]))),l&&ft(l,()=>{l=null})))};Nt(()=>{u=!1,t(c),u||_(null,null)},s)}function et(e,t){return t}function Xi(e,t,r,n){for(var i=[],l=t.length,o=0;o<l;o++)fr(t[o].e,i,!0);var a=l>0&&i.length===0&&r!==null;if(a){var s=r.parentNode;Ai(s),s.append(r),n.clear(),Ie(e,t[0].prev,t[l-1].next)}_n(i,()=>{for(var u=0;u<l;u++){var c=t[u];a||(n.delete(c.k),Ie(e,c.prev,c.next)),ke(c.e,!a)}})}function Ue(e,t,r,n,i,l=null){var o=e,a={flags:t,items:new Map,first:null},s=(t&tn)!==0;if(s){var u=e;o=u.appendChild(It())}var c=null,_=!1,f=Ei(()=>{var v=r();return rr(v)?v:v==null?[]:nr(v)});Nt(()=>{var v=h(f),d=v.length;_&&d===0||(_=d===0,Zi(v,a,o,i,t,n,r),l!==null&&(d===0?c?ct(c):c=$e(()=>l(o)):c!==null&&ft(c,()=>{c=null})),h(f))})}function Zi(e,t,r,n,i,l,o){var ue,de,Pe,re;var a=(i&pi)!==0,s=(i&(lr|ar))!==0,u=e.length,c=t.items,_=t.first,f=_,v,d=null,p,A=[],g=[],w,E,k,m;if(a)for(m=0;m<u;m+=1)w=e[m],E=l(w,m),k=c.get(E),k!==void 0&&((ue=k.a)==null||ue.measure(),(p??(p=new Set)).add(k));for(m=0;m<u;m+=1){if(w=e[m],E=l(w,m),k=c.get(E),k===void 0){var W=f?f.e.nodes_start:r;d=el(W,t,d,d===null?t.first:d.next,w,E,m,n,i,o),c.set(E,d),A=[],g=[],f=d.next;continue}if(s&&Qi(k,w,m,i),(k.e.f&me)!==0&&(ct(k.e),a&&((de=k.a)==null||de.unfix(),(p??(p=new Set)).delete(k))),k!==f){if(v!==void 0&&v.has(k)){if(A.length<g.length){var P=g[0],I;d=P.prev;var ee=A[0],se=A[A.length-1];for(I=0;I<A.length;I+=1)Tr(A[I],P,r);for(I=0;I<g.length;I+=1)v.delete(g[I]);Ie(t,ee.prev,se.next),Ie(t,d,ee),Ie(t,se,P),f=P,d=se,m-=1,A=[],g=[]}else v.delete(k),Tr(k,f,r),Ie(t,k.prev,k.next),Ie(t,k,d===null?t.first:d.next),Ie(t,d,k),d=k;continue}for(A=[],g=[];f!==null&&f.k!==E;)(f.e.f&me)===0&&(v??(v=new Set)).add(f),g.push(f),f=f.next;if(f===null)continue;k=f}A.push(k),d=k,f=k.next}if(f!==null||v!==void 0){for(var te=v===void 0?[]:nr(v);f!==null;)(f.e.f&me)===0&&te.push(f),f=f.next;var Ee=te.length;if(Ee>0){var oe=(i&tn)!==0&&u===0?r:null;if(a){for(m=0;m<Ee;m+=1)(Pe=te[m].a)==null||Pe.measure();for(m=0;m<Ee;m+=1)(re=te[m].a)==null||re.fix()}Xi(t,te,oe,c)}}a&&Ct(()=>{var he;if(p!==void 0)for(k of p)(he=k.a)==null||he.apply()}),x.first=t.first&&t.first.e,x.last=d&&d.e}function Qi(e,t,r,n){(n&lr)!==0&&zt(e.v,t),(n&ar)!==0?zt(e.i,r):e.i=r}function el(e,t,r,n,i,l,o,a,s,u){var c=(s&lr)!==0,_=(s&gi)===0,f=c?_?sr(i):Ze(i):i,v=(s&ar)===0?o:Ze(o),d={i:v,v:f,k:l,a:null,e:null,prev:r,next:n};try{return d.e=$e(()=>a(e,f,v,u),Ii),d.e.prev=r&&r.e,d.e.next=n&&n.e,r===null?t.first=d:(r.next=d,r.e.next=d.e),n!==null&&(n.prev=d,n.e.prev=d.e),d}finally{}}function Tr(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,i=t?t.e.nodes_start:r,l=e.e.nodes_start;l!==n;){var o=Rt(l);i.before(l),l=o}}function Ie(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function tl(e,t,...r){var n=e,i=G,l;Nt(()=>{i!==(i=t())&&(l&&(ke(l),l=null),l=$e(()=>i(n,...r)))},yt)}function Rn(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Rn(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function rl(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Rn(e))&&(n&&(n+=" "),n+=t);return n}function nl(e){return typeof e=="object"?rl(e):e??""}const Dr=[...` 	
\r\f \v\uFEFF`];function il(e,t,r){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),r){for(var i in r)if(r[i])n=n?n+" "+i:i;else if(n.length)for(var l=i.length,o=0;(o=n.indexOf(i,o))>=0;){var a=o+l;(o===0||Dr.includes(n[o-1]))&&(a===n.length||Dr.includes(n[a]))?n=(o===0?"":n.substring(0,o))+n.substring(a+1):o=a}}return n===""?null:n}function Fr(e,t=!1){var r=t?" !important;":";",n="";for(var i in e){var l=e[i];l!=null&&l!==""&&(n+=" "+i+": "+l+r)}return n}function ll(e,t){if(t){var r="",n,i;return Array.isArray(t)?(n=t[0],i=t[1]):n=t,n&&(r+=Fr(n)),i&&(r+=Fr(i,!0)),r=r.trim(),r===""?null:r}return String(e)}function fe(e,t,r,n,i,l){var o=e.__className;if(o!==r||o===void 0){var a=il(r,n,l);a==null?e.removeAttribute("class"):e.className=a,e.__className=r}else if(l&&i!==l)for(var s in l){var u=!!l[s];(i==null||u!==!!i[s])&&e.classList.toggle(s,u)}return l}function Wt(e,t={},r,n){for(var i in r){var l=r[i];t[i]!==l&&(r[i]==null?e.style.removeProperty(i):e.style.setProperty(i,l,n))}}function Xt(e,t,r,n){var i=e.__style;if(i!==t){var l=ll(t,n);l==null?e.removeAttribute("style"):e.style.cssText=l,e.__style=t}else n&&(Array.isArray(n)?(Wt(e,r==null?void 0:r[0],n[0]),Wt(e,r==null?void 0:r[1],n[1],"important")):Wt(e,r,n));return n}const al=Symbol("is custom element"),sl=Symbol("is html");function An(e,t){var r=Nn(e);r.checked!==(r.checked=t??void 0)&&(e.checked=t)}function ol(e,t,r,n){var i=Nn(e);i[t]!==(i[t]=r)&&(r==null?e.removeAttribute(t):typeof r!="string"&&ul(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Nn(e){return e.__attributes??(e.__attributes={[al]:e.nodeName.includes("-"),[sl]:e.namespaceURI===ki})}var Hr=new Map;function ul(e){var t=Hr.get(e.nodeName);if(t)return t;Hr.set(e.nodeName,t=[]);for(var r,n=e,i=Element.prototype;i!==n;){r=ti(n);for(var l in r)r[l].set&&t.push(l);n=zr(n)}return t}const fl=()=>performance.now(),be={tick:e=>requestAnimationFrame(e),now:()=>fl(),tasks:new Set};function Cn(){const e=be.now();be.tasks.forEach(t=>{t.c(e)||(be.tasks.delete(t),t.f())}),be.tasks.size!==0&&be.tick(Cn)}function cl(e){let t;return be.tasks.size===0&&be.tick(Cn),{promise:new Promise(r=>{be.tasks.add(t={c:e,f:r})}),abort(){be.tasks.delete(t)}}}function qr(e,t){yn(()=>{e.dispatchEvent(new CustomEvent(t))})}function vl(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function _l(e){const t={},r=e.split(";");for(const n of r){const[i,l]=n.split(":");if(!i||l===void 0)break;const o=vl(i.trim());t[o]=l.trim()}return t}const dl=e=>e;function hl(e,t,r,n){var i=(e&bi)!==0,l="out",o,a=t.inert;t.style.overflow;var s,u;function c(){var v=R,d=x;Q(null),_e(null);try{return o??(o=r()(t,(n==null?void 0:n())??{},{direction:l}))}finally{Q(v),_e(d)}}var _={is_global:i,in(){var v;t.inert=a;{u==null||u.abort(),(v=u==null?void 0:u.reset)==null||v.call(u);return}},out(v){t.inert=!0,qr(t,"outrostart"),u=Ln(t,c(),s,0,()=>{qr(t,"outroend"),v==null||v()})},stop:()=>{u==null||u.abort()}},f=x;(f.transitions??(f.transitions=[])).push(_)}function Ln(e,t,r,n,i){if(ii(t)){var l,o=!1;return Ct(()=>{if(!o){var d=t({direction:"out"});l=Ln(e,d,r,n,i)}}),{abort:()=>{o=!0,l==null||l.abort()},deactivate:()=>l.deactivate(),reset:()=>l.reset(),t:()=>l.t()}}if(!(t!=null&&t.duration))return i(),{abort:G,deactivate:G,reset:G,t:()=>n};const{delay:a=0,css:s,tick:u,easing:c=dl}=t;var _=[],f=()=>1-n,v=e.animate(_,{duration:a});return v.onfinish=()=>{var d=1-n,p=n-d,A=t.duration*Math.abs(p),g=[];if(A>0){var w=!1;if(s)for(var E=Math.ceil(A/16.666666666666668),k=0;k<=E;k+=1){var m=d+p*c(k/E),W=_l(s(m,1-m));g.push(W),w||(w=W.overflow==="hidden")}w&&(e.style.overflow="hidden"),f=()=>{var P=v.currentTime;return d+p*c(P/A)},u&&cl(()=>{if(v.playState!=="running")return!1;var P=f();return u(P,1-P),!0})}v=e.animate(g,{duration:A,fill:"forwards"}),v.onfinish=()=>{f=()=>n,u==null||u(n,1-n),i()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=G)},deactivate:()=>{i=G},reset:()=>{u==null||u(1,0)},t:()=>f()}}function $r(e,t){return e===t||(e==null?void 0:e[lt])===t}function Sn(e={},t,r,n){return ur(()=>{var i,l;return Si(()=>{i=l,l=[],Mt(()=>{e!==r(...l)&&(t(e,...l),i&&$r(r(...i),e)&&t(null,...i))})}),()=>{Ct(()=>{l&&$r(r(...l),e)&&t(null,...l)})}}),e}function Mn(e,t,r){if(e==null)return t(void 0),G;const n=Mt(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const He=[];function On(e,t=G){let r=null;const n=new Set;function i(a){if(Qr(e,a)&&(e=a,r)){const s=!He.length;for(const u of n)u[1](),He.push(u,e);if(s){for(let u=0;u<He.length;u+=2)He[u][0](He[u+1]);He.length=0}}}function l(a){i(a(e))}function o(a,s=G){const u=[a,s];return n.add(u),n.size===1&&(r=t(i,l)||G),a(e),()=>{n.delete(u),n.size===0&&r&&(r(),r=null)}}return{set:i,update:l,subscribe:o}}function pl(e){let t;return Mn(e,r=>t=r)(),t}let Zt=Symbol();function Pn(e,t,r){const n=r[t]??(r[t]={store:null,source:sr(void 0),unsubscribe:G});if(n.store!==e&&!(Zt in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=G;else{var i=!0;n.unsubscribe=Mn(e,l=>{i?n.source.v=l:S(n.source,l)}),i=!1}return e&&Zt in r?pl(e):h(n.source)}function Tn(){const e={};function t(){or(()=>{for(var r in e)e[r].unsubscribe();Kr(e,Zt,{enumerable:!1,value:!0})})}return[e,t]}function Ur(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function Dn(e,t,r,n){var i;i=e[t];var l=n,o=!0,a=!1,s=()=>(a=!0,o&&(o=!1,l=n),l),u;u=()=>{var v=e[t];return v===void 0?s():(o=!0,a=!1,v)};var c=!1,_=sr(i),f=xt(()=>{var v=u(),d=h(_);return c?(c=!1,d):_.v=v});return function(v,d){if(arguments.length>0){const p=d?h(f):v;if(!f.equals(p)){if(c=!0,S(_,p),a&&l!==void 0&&(l=p),Ur(f))return v;Mt(()=>h(f))}return v}return Ur(f)?f.v:h(f)}}function Fn(e){M===null&&yi(),tt&&M.l!==null?gl(M).m.push(e):At(()=>{const t=Mt(e);if(typeof t=="function")return t})}function gl(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const bl="5";var Vr;typeof window<"u"&&((Vr=window.__svelte??(window.__svelte={})).v??(Vr.v=new Set)).add(bl);hi();var wl=O('<a href="https://github.com/loremdipso/recipe-scraper" aria-label="View source on GitHub" target="_blank" style="position: fixed; right: 0; bottom: -0.5rem; z-index: 1000"><svg width="40" height="40" viewBox="0 0 250 250" style="fill: #151513; color: #fff; border: 0; transform: scale(1, -1)" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>');function ml(e){var t=wl();L(e,t)}function Qt(e){return e.replaceAll("**","")}function Hn(e,t=1){let r=e.split(" ");for(;r.length>t;)r.shift();return r.join(" ")}function qn(e){return e.replaceAll(/^\s+(\/\/.*)?/gm,"").replaceAll(`
`,"")}function $n(e,t,r=!1){if(typeof e=="string")return e;if(e*=10**t,e=Math.round(e),e/=10**t,r){if(Y(e,1/2))return"1/2";if(Y(e,1/3))return"1/3";if(Y(e,1/4))return"1/4";if(Y(e,1/8))return"1/8";if(Y(e,2/3))return"2/3";if(Y(e,3/4))return"3/4"}return e}function er(e){return!isNaN(Number(e))&&!isNaN(parseFloat(e))}function Y(e,t){return Math.abs(e-t)<.01}function tr(e,t){return e.split(/(\*\*[^\*]+\*\*)/).map(r=>r.startsWith("**")&&r.endsWith("**")?r:t(r)).join("")}function kl(e,t){t=t.toLowerCase();let r=Hn(t);return e[r]?r:t.replaceAll(/\s/g,"_")}let yl=0;const El=e=>`${e}_${++yl}`;function Un(e,t){return t.length-e.length}function Wn(e){if(!e||!e.length||e.length>500)return!1;try{let t=new URL(e);return t.protocol==="http:"||t.protocol==="https:"}catch{return!1}}var We=(e=>(e.PREFERENCES="preferences",e.RECIPES="recipes",e.TABS="tabs",e))(We||{}),N=(e=>(e.IMPERIAL="imperial",e.ORIGINAL="original",e.METRIC="metric",e.ANY="any",e))(N||{}),ge=(e=>(e[e.None=0]="None",e[e.Ingredients=1]="Ingredients",e[e.Instructions=2]="Instructions",e[e.Notes=3]="Notes",e))(ge||{});const gt="### ",bt="#### ",Ae="   - ",Se={Recipe:"recipe",MyRecipes:"myrecipe"},xl=qn(String.raw`
	(?:
		// Number and space prefix
		(?:[0-9]+ )?

		// Decimal prefix
		(?:\.)?

		// Some number
		[0-9]+

		// Decimal
		(?:\.[0-9]+)*

		// number-[other number]
		(?:\s*[\/-]\s*[0-9]+)*

		// number and [other number]
		(?: and [0-9]+)?

		(?:\/[0-9]+)*

		// Decimal suffix
		(?:\.[0-9]+)*

		\s*

		(?:\bteaspoon[s]?\b)?

		(?:\bquart[s]?\b)?

		(?:\bstick[s]?\b)?

		(?:\blb[s]?\b)?\s*

		(?:\btsp[s]?\b)?\s*

		(?:\btbsp[s]?\b)?\s*

		(?:\bpint[s]?\b)?

		(?:\btablespoon[s]?\b)?

		(?:lb[s]?\b)?

		(?:\bounce[s]?\b)?

		(?:oz[s]?\b)?

		(?:ml[s]?\b)?

		(?:g[s]?\b)?

		(?:cm[s]?\b)?

		(?:cup[s]?\b)?

		(?:day[s]?\b)?

		(?:minute[s]?\b)?

		(?:"\b)?

		(?:\-?inch(?:es)?\b)?

		(?:hour[s]?\b)*

		(?:\")*
	)`),wt={teaspoon:{regex:/^teaspoon[s]?$/i,alias:"tsp"},pint:{regex:/^pint[s]?$/i,singular:"pint",plural:"pints"},stick:{regex:/^stick[s]?$/i,singular:"stick",plural:"sticks",unit:N.ANY},lb:{regex:/^lb[s]?$/i,singular:"lb",plural:"lbs",unit:N.IMPERIAL},tablespoon:{regex:/^tablespoon[s]?$/i,alias:"tbsp"},tbsp:{regex:/^tbsp[s]?$/i,singular:"tbsp",unit:N.IMPERIAL,converters:{ml:e=>e*14.787}},tsp:{regex:/^tsp[s]?$/i,singular:"tsp",unit:N.IMPERIAL,converters:{ml:e=>e*4.929}},oz:{regex:/^oz[s]?$/i,singular:"oz",unit:N.METRIC},ml:{regex:/^ml[s]?$/i,singular:"ml",unit:N.METRIC,converters:{cup:e=>$n(e/236.6,1)}},grams:{regex:/^g[s]?$/i,singular:"g",plural:"g",join:!0,unit:N.METRIC},cm:{regex:/^cm[s]?$/i,singular:"cm",unit:N.METRIC,converters:{inch:e=>e/2.54}},celsius:{regex:/°C?$/i,singular:"°C",unit:N.METRIC,join:!0,ignore_scale:!0,converters:{fahrenheit:e=>e*9/5+32}},fahrenheit:{regex:/°F?$/i,singular:"°F",unit:N.IMPERIAL,join:!0,ignore_scale:!0,converters:{celsius:e=>(e-32)*5/9}},cup:{regex:/^cup[s]?$/i,singular:"cup",plural:"cups",unit:N.IMPERIAL,converters:{ml:e=>e*236.5882365}},quart:{regex:/^quart[s]?$/i,singular:"quart",plural:"quarts",unit:N.IMPERIAL},ounce:{regex:/^ounce[s]?$/i,singular:"ounce",plural:"ounces",unit:N.METRIC},inch_alt:{regex:/^inch(?:es)?$/i,alias:"inch"},inch:{regex:/^"$/i,singular:" inch",plural:" inche",join:!0,unit:N.IMPERIAL,converters:{cm:e=>e*2.54}},hour:{regex:/hour[s]?$/i,skip:!0},minute:{regex:/minute[s]?$/i,skip:!0},day:{regex:/day[s]?$/i,skip:!0}};function Il(e,t,r,n){e.alias&&(e=wt[e.alias]);let i=t*n;if(e.ignore_scale&&(i=t),!(r===N.ANY||r===N.ORIGINAL)&&r!==e.unit)if(e.converters){let l=Object.keys(e.converters)[0];i=e.converters[l](i),e=wt[l]}else return null;return i=$n(i,2,!0),!e.plural||typeof i=="string"||i<=1.1?e.join?`${i}${e.singular}`:`${i} ${e.singular}`:e.join?`${i}${e.plural}`:`${i} ${e.plural}`}function Rl(e,t,r){if(er(e))return Y(t,1)&&r===N.ORIGINAL?e:null;for(let a of Object.values(wt))if(a.regex.exec(e)!=null&&a.skip)return e;let n=a=>{if(a=a.trim(),er(a))return Number(a);let s=a.match(/^([0-9]+)\/([0-9]+)$/);return s?Number(s[1])/Number(s[2]):(s=a.match(/^([0-9])\s([0-9]+)\/([0-9]+)$/),s?Number(s[1])+Number(s[2])/Number(s[3]):NaN)};e=e.replace(/ and /," ");let i=e.match(new RegExp(qn(String.raw`
					// Number and space prefix
					(?:[0-9]+ )?

					// Decimal prefix
					(?:\.[0-9]+)*

					// Some number
					[0-9]+

					// number-[other number]
					(?:\s*[\/-]\s*[0-9]+)*

					// number and [other number]
					(?: and [0-9]+)?

					(?:\/[0-9]+)*

					// Decimal suffix
					(?:\.[0-9]+)*`),"gi"));if(i==null)return Y(t,1)&&r===N.ORIGINAL?e:null;let l=e;for(let a=0;a<i.length;a++){let s=i[a];i[a]=n(s),e=e.replace(s,"").trim()}let o=i.reduce((a,s)=>a+s,0);if(o<0||isNaN(o))return Y(t,1)&&r===N.ORIGINAL?l:null;for(let a of Object.values(wt))if(a.regex.exec(e)!=null){let s=Il(a,o,r,t);if(s)return s}return null}let Al=0;const qe=J([]);function we(e,t=""){console.info(e),qe.push({text:e,extra_class:t,id:++Al})}function Nl(e){for(let t=0;t<qe.length;t++)qe[t]&&qe[t]===e&&(qe.splice(t,1),t-=1)}var D=(e=>(e[e.Unknown=0]="Unknown",e[e.Plain=1]="Plain",e[e.Bold=2]="Bold",e[e.Italic=3]="Italic",e[e.Ingredient=4]="Ingredient",e[e.Temperature=5]="Temperature",e[e.Amount=6]="Amount",e))(D||{});function Cl(e){let t={};for(let i of[e.ingredients,e.instructions])Ll(i,t,[{kw_type:D.Temperature,regex:/(\b[0-9]+°\s*[CF]?\b)/gi},{kw_type:D.Amount,regex:new RegExp(xl,"gi")}]);for(let i=0;i<e.ingredients.length;i++){let l=e.ingredients[i];if(l.startsWith(Ae)){l=l.replace(Ae,"");{let o=/^(?:(?:\*\*[^\*\*]+\*\*)+[\s\(\),]*)+([^,^\(^\*]+)/i;const a=l.match(o);if(a){let s=a[a.length-1].trim();l=l.replace(s,`**${s}**`),s=s.toLowerCase(),t[s]=D.Ingredient;let u=s.split(" ");for(let c=1;u.length-c>0;c++){let _=Hn(s,u.length-c);t[_]=D.Ingredient}}}}e.ingredients[i]=l}let r=Object.keys(t);r.sort(Un);for(let i=0;i<e.instructions.length;i++){let l=e.instructions[i];for(let o of r)l=tr(l,a=>(a=a.replaceAll(new RegExp(String.raw`\b${o}\b`,"gi"),`**${o}**`),a));e.instructions[i]=l}let n=/(\b[0-9]+)\b/gi;for(let i of[e.ingredients,e.instructions])for(let l=0;l<i.length;l++){let o=i[l];o=o.split(/(\*\*[^\*]+\*\*)/).map(a=>{if(a.startsWith("**")&&a.endsWith("**"))return a;let s=a.match(n);if(s){a=a.replaceAll(n,"**$1**");for(let u of s)t[u]=D.Amount}return a}).join(""),i[l]=o}return t}function Ll(e,t,r){for(let n=0;n<e.length;n++)for(let i of r){let l=i.regex,o=i.kw_type;e[n]=tr(e[n],a=>{if(a.startsWith("**")&&a.endsWith("**"))return a;const s=[...new Set(a.match(l)||[])];s.sort(Un);for(let u of s){let c=u.trim();!c.length||er(c)||(a=tr(a,_=>_.replaceAll(c,`**${c}**`)),c=c.toLowerCase(),t[c]=o)}return a})}}function Wr(e){if(e.nodeName.startsWith("H")){let t=!0;for(;t;){t=!1;for(let r of e.children)r.nodeName=="DIV"&&(e.removeChild(r),t=!0)}}return(e.textContent||"").replace(/▢/,"").replaceAll(/(\.)([A-Z])/g,"$1 $2").replace(/^(?:Step\s*)?[0-9]+\.\s+/,"").replaceAll(" , ",", ").replaceAll("–","-").replaceAll("”",'"').replaceAll("½","1/2").replaceAll("¾","3/4").replaceAll("⅓","1/3").replaceAll("⅔","2/3").replaceAll("¼","1/4").replaceAll(/([0-9]+)\s+-\s+([0-9]+)/g,"$1-$2").trim()}function Sl(e,t,r){let i=new DOMParser().parseFromString(t,"text/html"),l=ge.None,o=null,a={},s=[],u=[],c=[];r=r||Ml(i);let _=[...i.querySelectorAll("li,p,h1,h2,h3,h4,h5,h6")],f=Math.max(0,_.map(v=>Wr(v)).findLastIndex(v=>v.toLowerCase()==="ingredients"));for(let v=f;v<_.length;v++){let d=_[v];d.nodeName.startsWith("H")&&d.nodeName==o&&(l=ge.None);let p=Wr(d);if(!p.length)continue;switch(p.toLowerCase()){case"ingredients":l=ge.Ingredients,o=d.nodeName;continue;case"instructions":l=ge.Instructions,o=d.nodeName;continue;case"notes":l=ge.Notes,o=d.nodeName;continue}switch(d.nodeName){case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"H7":case"H8":case"H9":p=p.replace(/:$/,""),p=`${gt}${p}`;break;default:p=`${Ae}${p}`;break}switch(l){case ge.Ingredients:s.push(p);break;case ge.Instructions:if(p.startsWith(Ae)){let g=p.replace(Ae,"").match(/^([^\.\:]+):(.+)/);g?(u.push(`${bt}${g[1]}`),u.push(`${Ae}${g[2]}`)):u.push(p)}break;case ge.Notes:c.push(p);break}}return{title:r,ingredients:s,instructions:u,notes:c,keywords:a,url:e}}function Ml(e){for(let t of e.querySelectorAll("meta"))if(t.getAttribute("property")==="og:title")return t.getAttribute("content")||"";return""}function Bt(e,t,r){let n="";if(e.length){n+=`

## ${r}
`;for(let i of e)i.startsWith(gt)||i.startsWith(bt)?i=`

${i}
`:n+=`
${i}`}return n}function Ol(e){let t="";return e.title&&(t+=`# ${e.title}
`),t+=Bt(e.ingredients,e.keywords,"Ingredients"),t+=Bt(e.instructions,e.keywords,"Instructions"),t+=Bt(e.notes,e.keywords,"Notes"),t.trim()}function Pl(e,t,r){if(!r)return[{type:D.Plain,text:Qt(e)}];let n=[];for(let i of e.split(/(\*\*[^\*]+\*\*)/))if(i)if(i.startsWith("**")&&i.endsWith("**"))i=i.replace(/^\*\*/,"").replace(/\*\*$/,""),n.push({text:i,type:t[i.toLowerCase()]||D.Unknown});else{let l=i;for(let o of l.split(/(\*[^\*]+\*)/))o&&(o.startsWith("*")&&o.endsWith("*")?(o=o.replace(/^\*/,"").replace(/\*$/,""),n.push({type:D.Italic,text:o})):n.push({type:D.Plain,text:o}))}return n}function vr(){try{let e=JSON.parse(localStorage.getItem(We.RECIPES)||"[]");return e.length===0&&(e=JSON.parse(localStorage.getItem(We.TABS)||"[]").map(t=>({...t.data,url:t.url}))),e}catch(e){return console.error(e),[]}}function Bn(e){localStorage.setItem(We.RECIPES,JSON.stringify(e))}function Tl(e){let t=vr();for(let r of t)if(r.url===e)return r;return null}function Dl(e,t=!0){let r=vr();return r=jn(r,e.url,!1),r.push(e),t&&Bn(r),r}function jn(e,t,r=!0){return e=e.filter(n=>n.url!==t),r&&Bn(e),e}async function Fl(e,t="",r=!1){if(!Wn(e))return we("ERROR","error"),null;if(!r){let i=Tl(e);if(i)return we("Done!","success"),i}let n=await fetch(`https://corsproxy.io/?url=${encodeURI(e)}`);if(n.status!==200)we("ERROR","error");else{let i=await n.text(),l=Sl(e,i,t);return Dl(l),we("Done!","success"),l}return null}function Hl(e,t){if(!e)return null;let r=structuredClone(e);return t?r.keywords=Cl(r):r.keywords={},r}function ql(e,t,r,n){return e?[jt("Ingredients",e.ingredients,e.keywords,t,r,n),jt("Instructions",e.instructions,e.keywords,t,r,n),jt("Notes",e.notes,e.keywords,t,r,n)]:[]}function jt(e,t,r,n,i,l){let o=[],a={text:e,level:2,rows:[]};if(t.length){o.push(a);for(let s of t){if(s.startsWith(Ae))s=s.substr(Ae.length);else if(s.startsWith(gt)){s=s.substr(gt.length),o.push(a={level:3,text:Qt(s),rows:[]}),o.push(a);continue}else if(s.startsWith(bt)){s=s.substr(bt.length),o.push(a={level:4,text:Qt(s),rows:[]});continue}a.rows.push({fragments:Pl(s,r,n),id:El("row")})}for(let s of o)for(let u of s.rows)for(let c of u.fragments)switch(c.type){case D.Ingredient:c.id=kl(r,c.text);break;case D.Amount:let _=c.text,f=Rl(_,l,i);f===null?c.failed=!0:f!==_&&(c.text=f,c.converted=!0);break}}return o}var $l=(e,t)=>t.onBack(),Ul=(e,t,r)=>{e.stopPropagation(),t.onOpenUrl(h(r).url)},Wl=(e,t,r)=>{e.stopPropagation(),S(t,jn(h(t),h(r).url),!0)},Bl=O('<div class="recipe-row" role="button" tabindex="0"><span class="grow"> </span> <button class="pink shrink">Delete</button></div>'),jl=O('<main class="my-recipes"><div class="full-width mb1 right"><button class="pink shrink">Back</button></div> <h2 class="grow no-margin">My Saved Recipes</h2> <!></main>');function Gl(e,t){Ne(t,!0);let r=F(J(vr()));var n=jl(),i=y(n),l=y(i);l.__click=[$l,t];var o=C(i,4);Ue(o,17,()=>h(r),et,(a,s)=>{var u=Bl();u.__click=[Ul,t,s];var c=y(u),_=y(c),f=C(c,2);f.__click=[Wl,r,s],H(()=>ie(_,h(s).title||"<missing title>")),xn("keypress",u,v=>{}),L(a,u)}),L(e,n),Ce()}it(["click"]);const Vl=e=>e;function Kl(e,{delay:t=0,duration:r=400,easing:n=Vl}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:n,css:l=>`opacity: ${l*i}`}}var zl=O("<div> </div>");function Yl(e,t){Ne(t,!0),setTimeout(()=>{Nl(t.notification)},3e3);var r=zl(),n=y(r);H(()=>{fe(r,1,`notification ${t.notification.extra_class??""}`,"svelte-106uj2k"),ie(n,t.notification.text)}),hl(2,r,()=>Kl,()=>({duration:3e3})),L(e,r),Ce()}var Jl=O('<div class="notifications svelte-rru4ft"></div>');function Xl(e){var t=Jl();Ue(t,5,()=>qe,r=>r.id,(r,n)=>{Yl(r,{get notification(){return h(n)}})}),L(e,t)}const Br={keep_screen_awake:!0,show_colors:!0};function Gn(){try{let e=localStorage.getItem(We.PREFERENCES);if(e)return{...Br,...JSON.parse(e)}}catch(e){console.error(e)}return{...Br}}function Vn(e){localStorage.setItem(We.PREFERENCES,JSON.stringify({...Gn(),...e}))}function jr(e){return Gn()[e]}let Je=null;const Gt=async()=>{document.visibilityState==="visible"&&setTimeout(async()=>await Kn(),1e3)},Vt=async(e,t=!0)=>{if(navigator.wakeLock){if(e)await Kn(),document.removeEventListener("visibilitychange",Gt),document.addEventListener("visibilitychange",Gt);else{console.info("Disabling wake lock");let r=Je;Je=null,r&&r.release(),document.removeEventListener("visibilitychange",Gt)}t&&Vn({keep_screen_awake:e})}},Kn=async()=>{try{if(Je)try{console.info("Releasing old wake lock"),await Je.release()}catch{}Je=await navigator.wakeLock.request("screen"),console.info("Wake Lock is active")}catch(e){console.error(e)}};var Zl=O("<h2> </h2>"),Ql=O("<h3> </h3>"),ea=O("<h4> </h4>"),ta=(e,t)=>t.onFocusSection(t.section),ra=(e,t,r)=>{t()[h(r).id]=e.target.checked},na=O("<span> </span>"),ia=O("<b> </b>"),la=O("<b> </b>"),aa=(e,t,r)=>{h(t).type===D.Ingredient&&(e.preventDefault(),r.onHighlightKeyword(h(t).id))},sa=O('<span role="button" tabindex="0"> </span>'),oa=O('<label><input type="checkbox"> <div></div></label>'),ua=O('<div class="list"><div><!> <div class="center"><button tabindex="0"><!></button></div></div> <!></div>');function fa(e,t){Ne(t,!0);let r=Dn(t,"checkedItems");function n(g){switch(g.type){case D.Ingredient:return"ingredient";case D.Temperature:return"temperature";case D.Amount:return"amount";default:return""}}function i(g){return t.selectedKeyword&&g.fragments.find(w=>w.id==t.selectedKeyword)}let l;At(()=>{l&&t.isFocused&&t.section&&l.scrollIntoView()});var o=ua(),a=y(o);Xt(a,"",{},{display:"flex",gap:"0.5rem"});var s=y(a);{var u=g=>{var w=Zl(),E=y(w);H(()=>ie(E,t.section.text)),L(g,w)},c=(g,w)=>{{var E=m=>{var W=Ql(),P=y(W);H(()=>ie(P,t.section.text)),L(m,W)},k=(m,W)=>{{var P=I=>{var ee=ea(),se=y(ee);H(()=>ie(se,t.section.text)),L(I,ee)};$(m,I=>{t.section.level===4&&I(P)},W)}};$(g,m=>{t.section.level===3?m(E):m(k,!1)},w)}};$(s,g=>{t.section.level===2?g(u):g(c,!1)})}var _=C(s,2);Xt(_,"",{},{display:"flex"});var f=y(_);f.__click=[ta,t];var v=y(f);{var d=g=>{var w=Pr("close");L(g,w)},p=g=>{var w=Pr("focus");L(g,w)};$(v,g=>{t.isFocused?g(d):g(p,!1)})}var A=C(a,2);Ue(A,17,()=>t.section.rows,et,(g,w)=>{var E=oa();let k;var m=y(E);m.__change=[ra,r,w];var W=C(m,2);Ue(W,21,()=>h(w).fragments,et,(P,I)=>{var ee=In(),se=ze(ee);{var te=oe=>{var ue=na(),de=y(ue);H(()=>ie(de,h(I).text)),L(oe,ue)},Ee=(oe,ue)=>{{var de=re=>{var he=ia(),Ge=y(he);H(()=>ie(Ge,h(I).text)),L(re,he)},Pe=(re,he)=>{{var Ge=xe=>{var b=la(),T=y(b);H(()=>ie(T,h(I).text)),L(xe,b)},Ot=xe=>{var b=sa();let T;b.__click=[aa,I,t];var K=y(b);H((pe,Le)=>{T=fe(b,1,pe,null,T,Le),ie(K,h(I).text)},[()=>nl(n(h(I))),()=>({failed:h(I).failed,converted:h(I).converted,selected:t.selectedKeyword&&t.selectedKeyword==h(I).id})]),xn("keypress",b,pe=>{}),L(xe,b)};$(re,xe=>{h(I).type===D.Italic?xe(Ge):xe(Ot,!1)},he)}};$(oe,re=>{h(I).type===D.Bold?re(de):re(Pe,!1)},ue)}};$(se,oe=>{h(I).type===D.Plain?oe(te):oe(Ee,!1)})}L(P,ee)}),H(P=>{k=fe(E,1,"",null,k,P),An(m,r()[h(w).id])},[()=>({selected:i(h(w))})]),L(g,E)}),Sn(o,g=>l=g,()=>l),L(e,o),Ce()}it(["click","change"]);var ca=O('<div class="focus-pane"><div class="focus-pane-content"><!></div> <!></div>');function va(e,t){Ne(t,!0);let r=J({did_drag:!1,total_height:0}),n=F("30vh"),i;Fn(async()=>{i&&(await Wi(),r.total_height=i.scrollHeight+10,S(n,`min(30vh, ${r.total_height}px)`))}),At(()=>{});var l=ca();let o;var a=y(l),s=y(a);tl(s,()=>t.content);var u=C(a,2);$(u,c=>{}),Sn(l,c=>i=c,()=>i),H(()=>o=Xt(l,"",o,{"min-height":h(n)})),L(e,l),Ce()}it(["mousedown"]);var _a=O('<p>Welcome to recipe scraper!</p> <p>New here? <a href="https://github.com/loremdipso/recipe-scraper?tab=readme-ov-file#recipe-scraper" target="_blank">Here</a> are some instructions to get you started.</p>',1);function da(e){var t=_a();L(e,t)}var ha=(e,t)=>t.onchange(e.target.checked),pa=O('<label class="svelte-1fmd0wu"><input type="checkbox" class="svelte-1fmd0wu"> <span class="slide-label svelte-1fmd0wu"> </span></label>');function Gr(e,t){Ne(t,!0);var r=pa(),n=y(r);n.__change=[ha,t];var i=C(n,2),l=y(i);H(()=>{An(n,t.checked),ie(l,t.text)}),L(e,r),Ce()}it(["change"]);var ga=async(e,t)=>{if(h(t)){let r=Ol(h(t));await navigator.clipboard.writeText(r),we("Copied markdown to clipboard :)")}},ba=O('<button id="share-button" class="black">Share</button>'),wa=(e,t)=>t.onMyRecipes(),ma=async(e,t)=>{await h(t).prompt(),S(t,null)},ka=O("<h1> </h1>"),ya=(e,t)=>t(N.IMPERIAL),Ea=(e,t)=>t(N.ORIGINAL),xa=(e,t)=>t(N.METRIC),Ia=async(e,t,r)=>{t()?(we("Reloading..."),await r(!0)):we("No url!","error")},Ra=(e,t)=>t(.5),Aa=(e,t)=>t(1),Na=(e,t)=>t(2),Ca=O('<!> <div class="flex-row bottom mb1 mt1"><div class="flex-col gap1"><!> <!> <div class="flex-row"><button>Imperial</button> <button>Original</button> <button>Metric</button></div></div> <div class="flex-col gap1"><a target="_blank">Open the original</a> <button>Reload</button> <div class="flex-row"><button>0.5x</button> <button>1x</button> <button>2x</button></div></div></div> <!>',1),La=O('<main><div class="input full-width"><button class="green">Copy from clipboard</button> <button class="blue">Get markdown</button> <!> <button class="pink">My recipes</button> <button id="install-button" class="purple">Install</button></div> <div class="output"><!></div></main>  <!>',1);function Sa(e,t){Ne(t,!0);const[r,n]=Tn(),i=()=>Pn(s,"$data",r),l=b=>{o(b,()=>h(p),()=>!0)},o=(b,T=G,K=G)=>{fa(b,{get section(){return T()},get isFocused(){return K()},get selectedKeyword(){return h(v)},get checkedItems(){return h(d)},onHighlightKeyword:pe=>{pe===h(v)?S(v,null):S(v,pe,!0)},onFocusSection:pe=>{K()?S(p,null):S(p,T(),!0)}})};let a=Dn(t,"current_url");const s=On(null);let u=F(J(N.ORIGINAL)),c=F(1),_=F(J(jr("show_colors")));const f=Cr(()=>Hl(i(),h(_)));let v=F(null),d=F(J({})),p=F(null),A=Cr(()=>ql(h(f),h(_),h(u),h(c))),g="";At(()=>{a()!==g&&(g=a(),(async()=>k(!1))())});function w(b){b!==h(u)&&S(u,b,!0)}function E(b){Y(b,h(c))||S(c,b,!0)}async function k(b=!1){if(S(d,{},!0),s.set(await Fl(a(),"",b)),S(v,null),S(p,null),a()!==window.location.href){const T=new URL(window.location.href);T.searchParams.set("url",a()),window.history.pushState({},"",T.toString())}}let m=F(null);window.addEventListener("beforeinstallprompt",b=>{b.preventDefault(),S(m,b,!0)});const W=J(jr("keep_screen_awake"));Fn(()=>((async()=>await Vt(W,!1))(),async()=>{await Vt(!1,!1)}));var P=La(),I=ze(P),ee=y(I),se=y(ee);se.__click=async()=>{const b=await navigator.clipboard.read();for(const T of b)for(const K of T.types){const Le=await(await T.getType(K)).text();if(s.set(null),Wn(Le)){we("Loading..."),a(Le);return}else we("ERROR: that doesn't look like a URL","error")}};var te=C(se,2);te.__click=[ga,f];var Ee=C(te,2);{var oe=b=>{var T=ba();T.__click=async()=>{const K=new URL(window.location.href);K.search="",a()&&K.searchParams.set("url",a()),await navigator.share({title:"Here's a recipe for ya!",url:K.toString()})},L(b,T)};$(Ee,b=>{navigator.share&&b(oe)})}var ue=C(Ee,2);ue.__click=[wa,t];var de=C(ue,2);de.__click=[ma,m];var Pe=C(ee,2),re=y(Pe);{var he=b=>{var T=Ca(),K=ze(T);{var pe=B=>{var ne=ka(),Te=y(ne);H(()=>{var De;return ie(Te,(De=h(f))==null?void 0:De.title)}),L(B,ne)};$(K,B=>{var ne;(ne=h(f))!=null&&ne.title&&B(pe)})}var Le=C(K,2),_r=y(Le),dr=y(_r);Gr(dr,{text:"Enable colors",get checked(){return h(_)},onchange:B=>{S(_,B,!0),Vn({show_colors:B})}});var hr=C(dr,2);{var zn=B=>{Gr(B,{text:"Keep screen on",get checked(){return W},onchange:ne=>{Vt(ne)}})};$(hr,B=>{navigator.wakeLock&&B(zn)})}var Yn=C(hr,2),Pt=y(Yn);let pr;Pt.__click=[ya,w];var Tt=C(Pt,2);let gr;Tt.__click=[Ea,w];var br=C(Tt,2);let wr;br.__click=[xa,w];var Jn=C(_r,2),Dt=y(Jn);let mr;var kr=C(Dt,2);kr.__click=[Ia,a,k];var Xn=C(kr,2),Ft=y(Xn);let yr;Ft.__click=[Ra,E];var Ht=C(Ft,2);let Er;Ht.__click=[Aa,E];var xr=C(Ht,2);let Ir;xr.__click=[Na,E];var Zn=C(Le,2);Ue(Zn,17,()=>h(A),et,(B,ne)=>{var Te=In(),De=ze(Te);Ue(De,17,()=>h(ne),et,(qt,$t)=>{o(qt,()=>h($t),()=>!1)}),L(B,Te)}),H((B,ne,Te,De,qt,$t,Qn)=>{pr=fe(Pt,1,"rounded-button black",null,pr,B),gr=fe(Tt,1,"rounded-button black",null,gr,ne),wr=fe(br,1,"rounded-button black",null,wr,Te),ol(Dt,"href",a()),mr=fe(Dt,1,"button-like",null,mr,De),yr=fe(Ft,1,"rounded-button black",null,yr,qt),Er=fe(Ht,1,"rounded-button black",null,Er,$t),Ir=fe(xr,1,"rounded-button black",null,Ir,Qn)},[()=>({selected:h(u)==N.IMPERIAL}),()=>({selected:h(u)==N.ORIGINAL}),()=>({selected:h(u)==N.METRIC}),()=>({disabled:!a()}),()=>({selected:Y(h(c),.5)}),()=>({selected:Y(h(c),1)}),()=>({selected:Y(h(c),2)})]),L(b,T)},Ge=b=>{da(b)};$(re,b=>{h(f)?b(he):b(Ge,!1)})}var Ot=C(I,2);{var xe=b=>{va(b,{content:l})};$(Ot,b=>{h(p)&&b(xe)})}H(()=>{te.disabled=!h(f),de.hidden=!h(m)}),L(e,P),Ce(),n()}it(["click"]);var Ma=O("<!> <!> <!>",1);function Oa(e,t){Ne(t,!0);const[r,n]=Tn(),i=()=>Pn(l,"$current_page",r),l=On(Se.Recipe);let o=F(""),a=new URL(document.location);const s=a.searchParams.get("link")||a.searchParams.get("description")||a.searchParams.get("url");s?S(o,decodeURI(s),!0):a.searchParams.get("my-recipes")&&l.set(Se.MyRecipes);var u=Ma(),c=ze(u);ml(c);var _=C(c,2);{var f=p=>{Sa(p,{onMyRecipes:()=>l.set(Se.MyRecipes),get current_url(){return h(o)}})},v=(p,A)=>{{var g=w=>{Gl(w,{onBack:()=>l.set(Se.Recipe),onOpenUrl:E=>{S(o,E,!0),l.set(Se.Recipe)}})};$(p,w=>{i()===Se.MyRecipes&&w(g)},A)}};$(_,p=>{i()===Se.Recipe?p(f):p(v,!1)})}var d=C(_,2);Xl(d),L(e,u),Ce(),n()}zi(Oa,{target:document.getElementById("app")});

(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();const Er=!1;var er=Array.isArray,Gn=Array.prototype.indexOf,tr=Array.from,Ur=Object.defineProperty,Ge=Object.getOwnPropertyDescriptor,Kn=Object.getOwnPropertyDescriptors,Vn=Object.prototype,zn=Array.prototype,jr=Object.getPrototypeOf,Ir=Object.isExtensible;function Yn(e){return typeof e=="function"}const G=()=>{};function Br(e){for(var t=0;t<e.length;t++)e[t]()}const le=2,Gr=4,bt=8,rr=16,me=32,We=64,lt=128,Y=256,at=512,K=1024,ve=2048,Me=4096,be=8192,wt=16384,Xn=32768,mt=65536,Zn=1<<19,Kr=1<<20,Gt=1<<21,nt=Symbol("$state");function Vr(e){return e===this.v}function zr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Yr(e){return!zr(e,this.v)}function Jn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Qn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ei(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ti(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ri(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ni(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ii(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Qe=!1,li=!1;function ai(){Qe=!0}const nr=1,ir=2,Xr=4,si=8,ui=16,oi=4,fi=1,ci=2,j=Symbol(),vi="http://www.w3.org/1999/xhtml";function _i(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let S=null;function Ar(e){S=e}function Oe(e,t=!1,r){var n=S={p:S,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Qe&&!t&&(S.l={s:null,u:null,r1:[],r2:Xe(!1)}),ar(()=>{n.d=!0})}function Se(e){const t=S;if(t!==null){const u=t.e;if(u!==null){var r=E,n=A;t.e=null;try{for(var i=0;i<u.length;i++){var l=u[i];_e(l.effect),J(l.reaction),sr(l.fn)}}finally{_e(r),J(n)}}S=t.p,t.m=!0}return{}}function kt(){return!Qe||S!==null&&S.l===null}function ie(e){if(typeof e!="object"||e===null||nt in e)return e;const t=jr(e);if(t!==Vn&&t!==zn)return e;var r=new Map,n=er(e),i=$(0),l=A,u=a=>{var s=A;J(l);var o=a();return J(s),o};return n&&r.set("length",$(e.length)),new Proxy(e,{defineProperty(a,s,o){(!("value"in o)||o.configurable===!1||o.enumerable===!1||o.writable===!1)&&ri();var c=r.get(s);return c===void 0?(c=u(()=>$(o.value)),r.set(s,c)):L(c,u(()=>ie(o.value))),!0},deleteProperty(a,s){var o=r.get(s);if(o===void 0)s in a&&(r.set(s,u(()=>$(j))),Ft(i));else{if(n&&typeof s=="string"){var c=r.get("length"),_=Number(s);Number.isInteger(_)&&_<c.v&&L(c,_)}L(o,j),Ft(i)}return!0},get(a,s,o){var v;if(s===nt)return e;var c=r.get(s),_=s in a;if(c===void 0&&(!_||(v=Ge(a,s))!=null&&v.writable)&&(c=u(()=>$(ie(_?a[s]:j))),r.set(s,c)),c!==void 0){var f=h(c);return f===j?void 0:f}return Reflect.get(a,s,o)},getOwnPropertyDescriptor(a,s){var o=Reflect.getOwnPropertyDescriptor(a,s);if(o&&"value"in o){var c=r.get(s);c&&(o.value=h(c))}else if(o===void 0){var _=r.get(s),f=_==null?void 0:_.v;if(_!==void 0&&f!==j)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return o},has(a,s){var f;if(s===nt)return!0;var o=r.get(s),c=o!==void 0&&o.v!==j||Reflect.has(a,s);if(o!==void 0||E!==null&&(!c||(f=Ge(a,s))!=null&&f.writable)){o===void 0&&(o=u(()=>$(c?ie(a[s]):j)),r.set(s,o));var _=h(o);if(_===j)return!1}return c},set(a,s,o,c){var b;var _=r.get(s),f=s in a;if(n&&s==="length")for(var v=o;v<_.v;v+=1){var d=r.get(v+"");d!==void 0?L(d,j):v in a&&(d=u(()=>$(j)),r.set(v+"",d))}_===void 0?(!f||(b=Ge(a,s))!=null&&b.writable)&&(_=u(()=>$(void 0)),L(_,u(()=>ie(o))),r.set(s,_)):(f=_.v!==j,L(_,u(()=>ie(o))));var p=Reflect.getOwnPropertyDescriptor(a,s);if(p!=null&&p.set&&p.set.call(c,o),!f){if(n&&typeof s=="string"){var N=r.get("length"),g=Number(s);Number.isInteger(g)&&g>=N.v&&L(N,g+1)}Ft(i)}return!0},ownKeys(a){h(i);var s=Reflect.ownKeys(a).filter(_=>{var f=r.get(_);return f===void 0||f.v!==j});for(var[o,c]of r)c.v!==j&&!(o in a)&&s.push(o);return s},setPrototypeOf(){ni()}})}function Ft(e,t=1){L(e,e.v+t)}function yt(e){var t=le|ve,r=A!==null&&(A.f&le)!==0?A:null;return E===null||r!==null&&(r.f&Y)!==0?t|=Y:E.f|=Kr,{ctx:S,deps:null,effects:null,equals:Vr,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??E}}function Nr(e){const t=yt(e);return cn(t),t}function di(e){const t=yt(e);return t.equals=Yr,t}function Zr(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)we(t[r])}}function hi(e){for(var t=e.parent;t!==null;){if((t.f&le)===0)return t;t=t.parent}return null}function Jr(e){var t,r=E;_e(hi(e));try{Zr(e),t=hn(e)}finally{_e(r)}return t}function Qr(e){var t=Jr(e),r=(Ae||(e.f&Y)!==0)&&e.deps!==null?Me:K;ae(e,r),e.equals(t)||(e.v=t,e.wv=_n())}const Ye=new Map;function Xe(e,t){var r={f:0,v:e,reactions:null,equals:Vr,rv:0,wv:0};return r}function $(e,t){const r=Xe(e);return cn(r),r}function lr(e,t=!1){var n;const r=Xe(e);return t||(r.equals=Yr),Qe&&S!==null&&S.l!==null&&((n=S.l).s??(n.s=[])).push(r),r}function L(e,t,r=!1){A!==null&&!ce&&kt()&&(A.f&(le|rr))!==0&&!(W!=null&&W.includes(e))&&ii();let n=r?ie(t):t;return Kt(e,n)}function Kt(e,t){if(!e.equals(t)){var r=e.v;et?Ye.set(e,t):Ye.set(e,r),e.v=t,(e.f&le)!==0&&((e.f&ve)!==0&&Jr(e),ae(e,(e.f&Y)===0?K:Me)),e.wv=_n(),en(e,ve),kt()&&E!==null&&(E.f&K)!==0&&(E.f&(me|We))===0&&(Z===null?Ai([e]):Z.push(e))}return t}function en(e,t){var r=e.reactions;if(r!==null)for(var n=kt(),i=r.length,l=0;l<i;l++){var u=r[l],a=u.f;(a&ve)===0&&(!n&&u===E||(ae(u,t),(a&(K|Y))!==0&&((a&le)!==0?en(u,Me):Ct(u))))}}let pi=!1;var Rr,tn,rn,nn;function gi(){if(Rr===void 0){Rr=window,tn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;rn=Ge(t,"firstChild").get,nn=Ge(t,"nextSibling").get,Ir(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ir(r)&&(r.__t=void 0)}}function xt(e=""){return document.createTextNode(e)}function st(e){return rn.call(e)}function Et(e){return nn.call(e)}function x(e,t){return st(e)}function Ke(e,t){{var r=st(e);return r instanceof Comment&&r.data===""?Et(r):r}}function M(e,t=1,r=!1){let n=e;for(;t--;)n=Et(n);return n}function bi(e){e.textContent=""}function wi(e){E===null&&A===null&&ei(),A!==null&&(A.f&Y)!==0&&E===null&&Qn(),et&&Jn()}function mi(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Ue(e,t,r,n=!0){var i=E,l={ctx:S,deps:null,nodes_start:null,nodes_end:null,f:e|ve,first:null,fn:t,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(r)try{or(l),l.f|=Xn}catch(s){throw we(l),s}else t!==null&&Ct(l);var u=r&&l.deps===null&&l.first===null&&l.nodes_start===null&&l.teardown===null&&(l.f&(Kr|lt))===0;if(!u&&n&&(i!==null&&mi(l,i),A!==null&&(A.f&le)!==0)){var a=A;(a.effects??(a.effects=[])).push(l)}return l}function ar(e){const t=Ue(bt,null,!1);return ae(t,K),t.teardown=e,t}function It(e){wi();var t=E!==null&&(E.f&me)!==0&&S!==null&&!S.m;if(t){var r=S;(r.e??(r.e=[])).push({fn:e,effect:E,reaction:A})}else{var n=sr(e);return n}}function ki(e){const t=Ue(We,e,!0);return(r={})=>new Promise(n=>{r.outro?ut(t,()=>{we(t),n(void 0)}):(we(t),n(void 0))})}function sr(e){return Ue(Gr,e,!1)}function yi(e){return Ue(bt,e,!0)}function B(e,t=[],r=yt){const n=t.map(r);return At(()=>e(...n.map(h)))}function At(e,t=0){return Ue(bt|rr|t,e,!0)}function qe(e,t=!0){return Ue(bt|me,e,!0,t)}function ln(e){var t=e.teardown;if(t!==null){const r=et,n=A;Lr(!0),J(null);try{t.call(null)}finally{Lr(r),J(n)}}}function an(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;(r.f&We)!==0?r.parent=null:we(r,t),r=n}}function xi(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&me)===0&&we(t),t=r}}function we(e,t=!0){var r=!1;(t||(e.f&Zn)!==0)&&e.nodes_start!==null&&(Ei(e.nodes_start,e.nodes_end),r=!0),an(e,t&&!r),_t(e,0),ae(e,wt);var n=e.transitions;if(n!==null)for(const l of n)l.stop();ln(e);var i=e.parent;i!==null&&i.first!==null&&sn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Ei(e,t){for(;e!==null;){var r=e===t?null:Et(e);e.remove(),e=r}}function sn(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function ut(e,t){var r=[];ur(e,r,!0),un(r,()=>{we(e),t&&t()})}function un(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var i of e)i.out(n)}else t()}function ur(e,t,r){if((e.f&be)===0){if(e.f^=be,e.transitions!==null)for(const u of e.transitions)(u.is_global||r)&&t.push(u);for(var n=e.first;n!==null;){var i=n.next,l=(n.f&mt)!==0||(n.f&me)!==0;ur(n,t,l?r:!1),n=i}}}function ot(e){on(e,!0)}function on(e,t){if((e.f&be)!==0){e.f^=be,(e.f&K)===0&&(e.f^=K),tt(e)&&(ae(e,ve),Ct(e));for(var r=e.first;r!==null;){var n=r.next,i=(r.f&mt)!==0||(r.f&me)!==0;on(r,i?t:!1),r=n}if(e.transitions!==null)for(const l of e.transitions)(l.is_global||t)&&l.in()}}let Ze=[],Vt=[];function fn(){var e=Ze;Ze=[],Br(e)}function Ii(){var e=Vt;Vt=[],Br(e)}function Nt(e){Ze.length===0&&queueMicrotask(fn),Ze.push(e)}function Cr(){Ze.length>0&&fn(),Vt.length>0&&Ii()}let it=!1,ft=!1,ct=null,Le=!1,et=!1;function Lr(e){et=e}let Ve=[];let A=null,ce=!1;function J(e){A=e}let E=null;function _e(e){E=e}let W=null;function cn(e){A!==null&&A.f&Gt&&(W===null?W=[e]:W.push(e))}let q=null,V=0,Z=null;function Ai(e){Z=e}let vn=1,vt=0,Ae=!1;function _n(){return++vn}function tt(e){var _;var t=e.f;if((t&ve)!==0)return!0;if((t&Me)!==0){var r=e.deps,n=(t&Y)!==0;if(r!==null){var i,l,u=(t&at)!==0,a=n&&E!==null&&!Ae,s=r.length;if(u||a){var o=e,c=o.parent;for(i=0;i<s;i++)l=r[i],(u||!((_=l==null?void 0:l.reactions)!=null&&_.includes(o)))&&(l.reactions??(l.reactions=[])).push(o);u&&(o.f^=at),a&&c!==null&&(c.f&Y)===0&&(o.f^=Y)}for(i=0;i<s;i++)if(l=r[i],tt(l)&&Qr(l),l.wv>e.wv)return!0}(!n||E!==null&&!Ae)&&ae(e,K)}return!1}function Ni(e,t){for(var r=t;r!==null;){if((r.f&lt)!==0)try{r.fn(e);return}catch{r.f^=lt}r=r.parent}throw it=!1,e}function Mr(e){return(e.f&wt)===0&&(e.parent===null||(e.parent.f&lt)===0)}function Rt(e,t,r,n){if(it){if(r===null&&(it=!1),Mr(t))throw e;return}if(r!==null&&(it=!0),Ni(e,t),Mr(t))throw e}function dn(e,t,r=!0){var n=e.reactions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];W!=null&&W.includes(e)||((l.f&le)!==0?dn(l,t,!1):t===l&&(r?ae(l,ve):(l.f&K)!==0&&ae(l,Me),Ct(l)))}}function hn(e){var v;var t=q,r=V,n=Z,i=A,l=Ae,u=W,a=S,s=ce,o=e.f;q=null,V=0,Z=null,Ae=(o&Y)!==0&&(ce||!Le||A===null),A=(o&(me|We))===0?e:null,W=null,Ar(e.ctx),ce=!1,vt++,e.f|=Gt;try{var c=(0,e.fn)(),_=e.deps;if(q!==null){var f;if(_t(e,V),_!==null&&V>0)for(_.length=V+q.length,f=0;f<q.length;f++)_[V+f]=q[f];else e.deps=_=q;if(!Ae)for(f=V;f<_.length;f++)((v=_[f]).reactions??(v.reactions=[])).push(e)}else _!==null&&V<_.length&&(_t(e,V),_.length=V);if(kt()&&Z!==null&&!ce&&_!==null&&(e.f&(le|Me|ve))===0)for(f=0;f<Z.length;f++)dn(Z[f],e);return i!==null&&i!==e&&(vt++,Z!==null&&(n===null?n=Z:n.push(...Z))),c}finally{q=t,V=r,Z=n,A=i,Ae=l,W=u,Ar(a),ce=s,e.f^=Gt}}function Ri(e,t){let r=t.reactions;if(r!==null){var n=Gn.call(r,e);if(n!==-1){var i=r.length-1;i===0?r=t.reactions=null:(r[n]=r[i],r.pop())}}r===null&&(t.f&le)!==0&&(q===null||!q.includes(t))&&(ae(t,Me),(t.f&(Y|at))===0&&(t.f^=at),Zr(t),_t(t,0))}function _t(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)Ri(e,r[n])}function or(e){var t=e.f;if((t&wt)===0){ae(e,K);var r=E,n=S,i=Le;E=e,Le=!0;try{(t&rr)!==0?xi(e):an(e),ln(e);var l=hn(e);e.teardown=typeof l=="function"?l:null,e.wv=vn;var u=e.deps,a;Er&&li&&e.f&ve}catch(s){Rt(s,e,r,n||e.ctx)}finally{Le=i,E=r}}}function Ci(){try{ti()}catch(e){if(ct!==null)Rt(e,ct,null);else throw e}}function pn(){var e=Le;try{var t=0;for(Le=!0;Ve.length>0;){t++>1e3&&Ci();var r=Ve,n=r.length;Ve=[];for(var i=0;i<n;i++){var l=Mi(r[i]);Li(l)}Ye.clear()}}finally{ft=!1,Le=e,ct=null}}function Li(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if((n.f&(wt|be))===0)try{tt(n)&&(or(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?sn(n):n.fn=null))}catch(i){Rt(i,n,null,n.ctx)}}}function Ct(e){ft||(ft=!0,queueMicrotask(pn));for(var t=ct=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&(We|me))!==0){if((r&K)===0)return;t.f^=K}}Ve.push(t)}function Mi(e){for(var t=[],r=e;r!==null;){var n=r.f,i=(n&(me|We))!==0,l=i&&(n&K)!==0;if(!l&&(n&be)===0){if((n&Gr)!==0)t.push(r);else if(i)r.f^=K;else try{tt(r)&&or(r)}catch(s){Rt(s,r,null,r.ctx)}var u=r.first;if(u!==null){r=u;continue}}var a=r.parent;for(r=r.next;r===null&&a!==null;)r=a.next,a=a.parent}return t}function Oi(e){var t;for(Cr();Ve.length>0;)ft=!0,pn(),Cr();return t}async function Si(){await Promise.resolve(),Oi()}function h(e){var t=e.f,r=(t&le)!==0;if(A!==null&&!ce){if(!(W!=null&&W.includes(e))){var n=A.deps;e.rv<vt&&(e.rv=vt,q===null&&n!==null&&n[V]===e?V++:q===null?q=[e]:(!Ae||!q.includes(e))&&q.push(e))}}else if(r&&e.deps===null&&e.effects===null){var i=e,l=i.parent;l!==null&&(l.f&Y)===0&&(i.f^=Y)}return r&&(i=e,tt(i)&&Qr(i)),et&&Ye.has(e)?Ye.get(e):e.v}function Lt(e){var t=ce;try{return ce=!0,e()}finally{ce=t}}const Pi=-7169;function ae(e,t){e.f=e.f&Pi|t}const Ti=["touchstart","touchmove"];function Di(e){return Ti.includes(e)}function gn(e){var t=A,r=E;J(null),_e(null);try{return e()}finally{J(t),_e(r)}}const bn=new Set,zt=new Set;function $i(e,t,r,n={}){function i(l){if(n.capture||Be.call(t,l),!l.cancelBubble)return gn(()=>r==null?void 0:r.call(this,l))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Nt(()=>{t.addEventListener(e,i,n)}):t.addEventListener(e,i,n),i}function wn(e,t,r,n,i){var l={capture:n,passive:i},u=$i(e,t,r,l);(t===document.body||t===window||t===document)&&ar(()=>{t.removeEventListener(e,u,l)})}function Mt(e){for(var t=0;t<e.length;t++)bn.add(e[t]);for(var r of zt)r(e)}function Be(e){var b;var t=this,r=t.ownerDocument,n=e.type,i=((b=e.composedPath)==null?void 0:b.call(e))||[],l=i[0]||e.target,u=0,a=e.__root;if(a){var s=i.indexOf(a);if(s!==-1&&(t===document||t===window)){e.__root=t;return}var o=i.indexOf(t);if(o===-1)return;s<=o&&(u=s)}if(l=i[u]||e.target,l!==t){Ur(e,"currentTarget",{configurable:!0,get(){return l||r}});var c=A,_=E;J(null),_e(null);try{for(var f,v=[];l!==null;){var d=l.assignedSlot||l.parentNode||l.host||null;try{var p=l["__"+n];if(p!=null&&(!l.disabled||e.target===l))if(er(p)){var[N,...g]=p;N.apply(l,[e,...g])}else p.call(l,e)}catch(y){f?v.push(y):f=y}if(e.cancelBubble||d===t||d===null)break;l=d}if(f){for(let y of v)queueMicrotask(()=>{throw y});throw f}}finally{e.__root=t,delete e.currentTarget,J(c),_e(_)}}}function Hi(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function dt(e,t){var r=E;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function P(e,t){var r=(t&fi)!==0,n=(t&ci)!==0,i,l=!e.startsWith("<!>");return()=>{i===void 0&&(i=Hi(l?e:"<!>"+e),r||(i=st(i)));var u=n||tn?document.importNode(i,!0):i.cloneNode(!0);if(r){var a=st(u),s=u.lastChild;dt(a,s)}else dt(u,u);return u}}function Or(e=""){{var t=xt(e+"");return dt(t,t),t}}function mn(){var e=document.createDocumentFragment(),t=document.createComment(""),r=xt();return e.append(t,r),dt(t,r),e}function C(e,t){e!==null&&e.before(t)}function oe(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function qi(e,t){return Fi(e,t)}const De=new Map;function Fi(e,{target:t,anchor:r,props:n={},events:i,context:l,intro:u=!0}){gi();var a=new Set,s=_=>{for(var f=0;f<_.length;f++){var v=_[f];if(!a.has(v)){a.add(v);var d=Di(v);t.addEventListener(v,Be,{passive:d});var p=De.get(v);p===void 0?(document.addEventListener(v,Be,{passive:d}),De.set(v,1)):De.set(v,p+1)}}};s(tr(bn)),zt.add(s);var o=void 0,c=ki(()=>{var _=r??t.appendChild(xt());return qe(()=>{if(l){Oe({});var f=S;f.c=l}i&&(n.$$events=i),o=e(_,n)||{},l&&Se()}),()=>{var d;for(var f of a){t.removeEventListener(f,Be);var v=De.get(f);--v===0?(document.removeEventListener(f,Be),De.delete(f)):De.set(f,v)}zt.delete(s),_!==r&&((d=_.parentNode)==null||d.removeChild(_))}});return Wi.set(o,c),o}let Wi=new WeakMap;function F(e,t,[r,n]=[0,0]){var i=e,l=null,u=null,a=j,s=r>0?mt:0,o=!1;const c=(f,v=!0)=>{o=!0,_(v,f)},_=(f,v)=>{a!==(a=f)&&(a?(l?ot(l):v&&(l=qe(()=>v(i))),u&&ut(u,()=>{u=null})):(u?ot(u):v&&(u=qe(()=>v(i,[r+1,n]))),l&&ut(l,()=>{l=null})))};At(()=>{o=!1,t(c),o||_(null,null)},s)}function Je(e,t){return t}function Ui(e,t,r,n){for(var i=[],l=t.length,u=0;u<l;u++)ur(t[u].e,i,!0);var a=l>0&&i.length===0&&r!==null;if(a){var s=r.parentNode;bi(s),s.append(r),n.clear(),Ie(e,t[0].prev,t[l-1].next)}un(i,()=>{for(var o=0;o<l;o++){var c=t[o];a||(n.delete(c.k),Ie(e,c.prev,c.next)),we(c.e,!a)}})}function Fe(e,t,r,n,i,l=null){var u=e,a={flags:t,items:new Map,first:null},s=(t&Xr)!==0;if(s){var o=e;u=o.appendChild(xt())}var c=null,_=!1,f=di(()=>{var v=r();return er(v)?v:v==null?[]:tr(v)});At(()=>{var v=h(f),d=v.length;_&&d===0||(_=d===0,ji(v,a,u,i,t,n,r),l!==null&&(d===0?c?ot(c):c=qe(()=>l(u)):c!==null&&ut(c,()=>{c=null})),h(f))})}function ji(e,t,r,n,i,l,u){var ue,ke,Pe,re;var a=(i&si)!==0,s=(i&(nr|ir))!==0,o=e.length,c=t.items,_=t.first,f=_,v,d=null,p,N=[],g=[],b,y,m,w;if(a)for(w=0;w<o;w+=1)b=e[w],y=l(b,w),m=c.get(y),m!==void 0&&((ue=m.a)==null||ue.measure(),(p??(p=new Set)).add(m));for(w=0;w<o;w+=1){if(b=e[w],y=l(b,w),m=c.get(y),m===void 0){var U=f?f.e.nodes_start:r;d=Gi(U,t,d,d===null?t.first:d.next,b,y,w,n,i,u),c.set(y,d),N=[],g=[],f=d.next;continue}if(s&&Bi(m,b,w,i),(m.e.f&be)!==0&&(ot(m.e),a&&((ke=m.a)==null||ke.unfix(),(p??(p=new Set)).delete(m))),m!==f){if(v!==void 0&&v.has(m)){if(N.length<g.length){var T=g[0],I;d=T.prev;var Q=N[0],ee=N[N.length-1];for(I=0;I<N.length;I+=1)Sr(N[I],T,r);for(I=0;I<g.length;I+=1)v.delete(g[I]);Ie(t,Q.prev,ee.next),Ie(t,d,Q),Ie(t,ee,T),f=T,d=ee,w-=1,N=[],g=[]}else v.delete(m),Sr(m,f,r),Ie(t,m.prev,m.next),Ie(t,m,d===null?t.first:d.next),Ie(t,d,m),d=m;continue}for(N=[],g=[];f!==null&&f.k!==y;)(f.e.f&be)===0&&(v??(v=new Set)).add(f),g.push(f),f=f.next;if(f===null)continue;m=f}N.push(m),d=m,f=m.next}if(f!==null||v!==void 0){for(var se=v===void 0?[]:tr(v);f!==null;)(f.e.f&be)===0&&se.push(f),f=f.next;var Re=se.length;if(Re>0){var te=(i&Xr)!==0&&o===0?r:null;if(a){for(w=0;w<Re;w+=1)(Pe=se[w].a)==null||Pe.measure();for(w=0;w<Re;w+=1)(re=se[w].a)==null||re.fix()}Ui(t,se,te,c)}}a&&Nt(()=>{var de;if(p!==void 0)for(m of p)(de=m.a)==null||de.apply()}),E.first=t.first&&t.first.e,E.last=d&&d.e}function Bi(e,t,r,n){(n&nr)!==0&&Kt(e.v,t),(n&ir)!==0?Kt(e.i,r):e.i=r}function Gi(e,t,r,n,i,l,u,a,s,o){var c=(s&nr)!==0,_=(s&ui)===0,f=c?_?lr(i):Xe(i):i,v=(s&ir)===0?u:Xe(u),d={i:v,v:f,k:l,a:null,e:null,prev:r,next:n};try{return d.e=qe(()=>a(e,f,v,o),pi),d.e.prev=r&&r.e,d.e.next=n&&n.e,r===null?t.first=d:(r.next=d,r.e.next=d.e),n!==null&&(n.prev=d,n.e.prev=d.e),d}finally{}}function Sr(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,i=t?t.e.nodes_start:r,l=e.e.nodes_start;l!==n;){var u=Et(l);i.before(l),l=u}}function Ie(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Ki(e,t,...r){var n=e,i=G,l;At(()=>{i!==(i=t())&&(l&&(we(l),l=null),l=qe(()=>i(n,...r)))},mt)}function kn(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=kn(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Vi(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=kn(e))&&(n&&(n+=" "),n+=t);return n}function zi(e){return typeof e=="object"?Vi(e):e??""}const Pr=[...` 	
\r\f \v\uFEFF`];function Yi(e,t,r){var n=e==null?"":""+e;if(t&&(n=n?n+" "+t:t),r){for(var i in r)if(r[i])n=n?n+" "+i:i;else if(n.length)for(var l=i.length,u=0;(u=n.indexOf(i,u))>=0;){var a=u+l;(u===0||Pr.includes(n[u-1]))&&(a===n.length||Pr.includes(n[a]))?n=(u===0?"":n.substring(0,u))+n.substring(a+1):u=a}}return n===""?null:n}function Tr(e,t=!1){var r=t?" !important;":";",n="";for(var i in e){var l=e[i];l!=null&&l!==""&&(n+=" "+i+": "+l+r)}return n}function Xi(e,t){if(t){var r="",n,i;return Array.isArray(t)?(n=t[0],i=t[1]):n=t,n&&(r+=Tr(n)),i&&(r+=Tr(i,!0)),r=r.trim(),r===""?null:r}return String(e)}function fe(e,t,r,n,i,l){var u=e.__className;if(u!==r||u===void 0){var a=Yi(r,n,l);a==null?e.removeAttribute("class"):e.className=a,e.__className=r}else if(l&&i!==l)for(var s in l){var o=!!l[s];(i==null||o!==!!i[s])&&e.classList.toggle(s,o)}return l}function Wt(e,t={},r,n){for(var i in r){var l=r[i];t[i]!==l&&(r[i]==null?e.style.removeProperty(i):e.style.setProperty(i,l,n))}}function Yt(e,t,r,n){var i=e.__style;if(i!==t){var l=Xi(t,n);l==null?e.removeAttribute("style"):e.style.cssText=l,e.__style=t}else n&&(Array.isArray(n)?(Wt(e,r==null?void 0:r[0],n[0]),Wt(e,r==null?void 0:r[1],n[1],"important")):Wt(e,r,n));return n}const Zi=Symbol("is custom element"),Ji=Symbol("is html");function Qi(e,t){var r=yn(e);r.checked!==(r.checked=t??void 0)&&(e.checked=t)}function el(e,t,r,n){var i=yn(e);i[t]!==(i[t]=r)&&(r==null?e.removeAttribute(t):typeof r!="string"&&tl(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function yn(e){return e.__attributes??(e.__attributes={[Zi]:e.nodeName.includes("-"),[Ji]:e.namespaceURI===vi})}var Dr=new Map;function tl(e){var t=Dr.get(e.nodeName);if(t)return t;Dr.set(e.nodeName,t=[]);for(var r,n=e,i=Element.prototype;i!==n;){r=Kn(n);for(var l in r)r[l].set&&t.push(l);n=jr(n)}return t}const rl=()=>performance.now(),pe={tick:e=>requestAnimationFrame(e),now:()=>rl(),tasks:new Set};function xn(){const e=pe.now();pe.tasks.forEach(t=>{t.c(e)||(pe.tasks.delete(t),t.f())}),pe.tasks.size!==0&&pe.tick(xn)}function nl(e){let t;return pe.tasks.size===0&&pe.tick(xn),{promise:new Promise(r=>{pe.tasks.add(t={c:e,f:r})}),abort(){pe.tasks.delete(t)}}}function $r(e,t){gn(()=>{e.dispatchEvent(new CustomEvent(t))})}function il(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function ll(e){const t={},r=e.split(";");for(const n of r){const[i,l]=n.split(":");if(!i||l===void 0)break;const u=il(i.trim());t[u]=l.trim()}return t}const al=e=>e;function sl(e,t,r,n){var i=(e&oi)!==0,l="out",u,a=t.inert;t.style.overflow;var s,o;function c(){var v=A,d=E;J(null),_e(null);try{return u??(u=r()(t,(n==null?void 0:n())??{},{direction:l}))}finally{J(v),_e(d)}}var _={is_global:i,in(){var v;t.inert=a;{o==null||o.abort(),(v=o==null?void 0:o.reset)==null||v.call(o);return}},out(v){t.inert=!0,$r(t,"outrostart"),o=En(t,c(),s,0,()=>{$r(t,"outroend"),v==null||v()})},stop:()=>{o==null||o.abort()}},f=E;(f.transitions??(f.transitions=[])).push(_)}function En(e,t,r,n,i){if(Yn(t)){var l,u=!1;return Nt(()=>{if(!u){var d=t({direction:"out"});l=En(e,d,r,n,i)}}),{abort:()=>{u=!0,l==null||l.abort()},deactivate:()=>l.deactivate(),reset:()=>l.reset(),t:()=>l.t()}}if(!(t!=null&&t.duration))return i(),{abort:G,deactivate:G,reset:G,t:()=>n};const{delay:a=0,css:s,tick:o,easing:c=al}=t;var _=[],f=()=>1-n,v=e.animate(_,{duration:a});return v.onfinish=()=>{var d=1-n,p=n-d,N=t.duration*Math.abs(p),g=[];if(N>0){var b=!1;if(s)for(var y=Math.ceil(N/16.666666666666668),m=0;m<=y;m+=1){var w=d+p*c(m/y),U=ll(s(w,1-w));g.push(U),b||(b=U.overflow==="hidden")}b&&(e.style.overflow="hidden"),f=()=>{var T=v.currentTime;return d+p*c(T/N)},o&&nl(()=>{if(v.playState!=="running")return!1;var T=f();return o(T,1-T),!0})}v=e.animate(g,{duration:N,fill:"forwards"}),v.onfinish=()=>{f=()=>n,o==null||o(n,1-n),i()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=G)},deactivate:()=>{i=G},reset:()=>{o==null||o(1,0)},t:()=>f()}}function Hr(e,t){return e===t||(e==null?void 0:e[nt])===t}function In(e={},t,r,n){return sr(()=>{var i,l;return yi(()=>{i=l,l=[],Lt(()=>{e!==r(...l)&&(t(e,...l),i&&Hr(r(...i),e)&&t(null,...i))})}),()=>{Nt(()=>{l&&Hr(r(...l),e)&&t(null,...l)})}}),e}function An(e,t,r){if(e==null)return t(void 0),G;const n=Lt(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const $e=[];function Nn(e,t=G){let r=null;const n=new Set;function i(a){if(zr(e,a)&&(e=a,r)){const s=!$e.length;for(const o of n)o[1](),$e.push(o,e);if(s){for(let o=0;o<$e.length;o+=2)$e[o][0]($e[o+1]);$e.length=0}}}function l(a){i(a(e))}function u(a,s=G){const o=[a,s];return n.add(o),n.size===1&&(r=t(i,l)||G),a(e),()=>{n.delete(o),n.size===0&&r&&(r(),r=null)}}return{set:i,update:l,subscribe:u}}function ul(e){let t;return An(e,r=>t=r)(),t}let Xt=Symbol();function Rn(e,t,r){const n=r[t]??(r[t]={store:null,source:lr(void 0),unsubscribe:G});if(n.store!==e&&!(Xt in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=G;else{var i=!0;n.unsubscribe=An(e,l=>{i?n.source.v=l:L(n.source,l)}),i=!1}return e&&Xt in r?ul(e):h(n.source)}function Cn(){const e={};function t(){ar(()=>{for(var r in e)e[r].unsubscribe();Ur(e,Xt,{enumerable:!1,value:!0})})}return[e,t]}function qr(e){var t;return((t=e.ctx)==null?void 0:t.d)??!1}function Ln(e,t,r,n){var i;i=e[t];var l=n,u=!0,a=!1,s=()=>(a=!0,u&&(u=!1,l=n),l),o;o=()=>{var v=e[t];return v===void 0?s():(u=!0,a=!1,v)};var c=!1,_=lr(i),f=yt(()=>{var v=o(),d=h(_);return c?(c=!1,d):_.v=v});return function(v,d){if(arguments.length>0){const p=d?h(f):v;if(!f.equals(p)){if(c=!0,L(_,p),a&&l!==void 0&&(l=p),qr(f))return v;Lt(()=>h(f))}return v}return qr(f)?f.v:h(f)}}function ol(e){S===null&&_i(),Qe&&S.l!==null?fl(S).m.push(e):It(()=>{const t=Lt(e);if(typeof t=="function")return t})}function fl(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const cl="5";var Wr;typeof window<"u"&&((Wr=window.__svelte??(window.__svelte={})).v??(Wr.v=new Set)).add(cl);ai();var vl=P('<a href="https://github.com/loremdipso/recipe-scraper" aria-label="View source on GitHub" target="_blank" style="position: fixed; right: 0; bottom: -0.5rem; z-index: 1000"><svg width="40" height="40" viewBox="0 0 250 250" style="fill: #151513; color: #fff; border: 0; transform: scale(1, -1)" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>');function _l(e){var t=vl();C(e,t)}function Zt(e){return e.replaceAll("**","")}function Mn(e,t=1){let r=e.split(" ");for(;r.length>t;)r.shift();return r.join(" ")}function On(e){return e.replaceAll(/^\s+(\/\/.*)?/gm,"").replaceAll(`
`,"")}function Sn(e,t,r=!1){if(typeof e=="string")return e;if(e*=10**t,e=Math.round(e),e/=10**t,r){if(z(e,1/2))return"1/2";if(z(e,1/3))return"1/3";if(z(e,1/4))return"1/4";if(z(e,1/8))return"1/8";if(z(e,2/3))return"2/3";if(z(e,3/4))return"3/4"}return e}function Jt(e){return!isNaN(Number(e))&&!isNaN(parseFloat(e))}function z(e,t){return Math.abs(e-t)<.01}function Qt(e,t){return e.split(/(\*\*[^\*]+\*\*)/).map(r=>r.startsWith("**")&&r.endsWith("**")?r:t(r)).join("")}function dl(e,t){t=t.toLowerCase();let r=Mn(t);return e[r]?r:t.replaceAll(/\s/g,"_")}let hl=0;const pl=e=>`${e}_${++hl}`;function Pn(e,t){return t.length-e.length}function Tn(e){if(!e||!e.length||e.length>500)return!1;try{let t=new URL(e);return t.protocol==="http:"||t.protocol==="https:"}catch{return!1}}var fr=(e=>(e.RECIPES="recipes",e))(fr||{}),R=(e=>(e.IMPERIAL="imperial",e.ORIGINAL="original",e.METRIC="metric",e.ANY="any",e))(R||{}),he=(e=>(e[e.None=0]="None",e[e.Ingredients=1]="Ingredients",e[e.Instructions=2]="Instructions",e[e.Notes=3]="Notes",e))(he||{});const ht="### ",pt="#### ",Ne="   - ",Ce={Recipe:"recipe",MyRecipes:"myrecipe"},gl=On(String.raw`
	(?:
		// Number and space prefix
		(?:[0-9]+ )?

		// Decimal prefix
		(?:\.)?

		// Some number
		[0-9]+

		// Decimal
		(?:\.[0-9]+)*

		// number-[other number]
		(?:\s*[\/-]\s*[0-9]+)*

		// number and [other number]
		(?: and [0-9]+)?

		(?:\/[0-9]+)*

		// Decimal suffix
		(?:\.[0-9]+)*

		\s*

		(?:\bteaspoon[s]?\b)?

		(?:\bquart[s]?\b)?

		(?:\bstick[s]?\b)?

		(?:\blb[s]?\b)?\s*

		(?:\btsp[s]?\b)?\s*

		(?:\btbsp[s]?\b)?\s*

		(?:\bpint[s]?\b)?

		(?:\btablespoon[s]?\b)?

		(?:lb[s]?\b)?

		(?:\bounce[s]?\b)?

		(?:oz[s]?\b)?

		(?:ml[s]?\b)?

		(?:g[s]?\b)?

		(?:cm[s]?\b)?

		(?:cup[s]?\b)?

		(?:day[s]?\b)?

		(?:minute[s]?\b)?

		(?:"\b)?

		(?:\-?inch(?:es)?\b)?

		(?:hour[s]?\b)*

		(?:\")*
	)`),gt={teaspoon:{regex:/^teaspoon[s]?$/i,alias:"tsp"},pint:{regex:/^pint[s]?$/i,singular:"pint",plural:"pints"},stick:{regex:/^stick[s]?$/i,singular:"stick",plural:"sticks",unit:R.ANY},lb:{regex:/^lb[s]?$/i,singular:"lb",plural:"lbs",unit:R.IMPERIAL},tablespoon:{regex:/^tablespoon[s]?$/i,alias:"tbsp"},tbsp:{regex:/^tbsp[s]?$/i,singular:"tbsp",unit:R.IMPERIAL,converters:{ml:e=>e*14.787}},tsp:{regex:/^tsp[s]?$/i,singular:"tsp",unit:R.IMPERIAL,converters:{ml:e=>e*4.929}},oz:{regex:/^oz[s]?$/i,singular:"oz",unit:R.METRIC},ml:{regex:/^ml[s]?$/i,singular:"ml",unit:R.METRIC,converters:{cup:e=>Sn(e/236.6,1)}},grams:{regex:/^g[s]?$/i,singular:"g",plural:"g",join:!0,unit:R.METRIC},cm:{regex:/^cm[s]?$/i,singular:"cm",unit:R.METRIC,converters:{inch:e=>e/2.54}},celsius:{regex:/°C?$/i,singular:"°C",unit:R.METRIC,join:!0,ignore_scale:!0,converters:{fahrenheit:e=>e*9/5+32}},fahrenheit:{regex:/°F?$/i,singular:"°F",unit:R.IMPERIAL,join:!0,ignore_scale:!0,converters:{celsius:e=>(e-32)*5/9}},cup:{regex:/^cup[s]?$/i,singular:"cup",plural:"cups",unit:R.IMPERIAL,converters:{ml:e=>e*236.5882365}},quart:{regex:/^quart[s]?$/i,singular:"quart",plural:"quarts",unit:R.IMPERIAL},ounce:{regex:/^ounce[s]?$/i,singular:"ounce",plural:"ounces",unit:R.METRIC},inch_alt:{regex:/^inch(?:es)?$/i,alias:"inch"},inch:{regex:/^"$/i,singular:" inch",plural:" inche",join:!0,unit:R.IMPERIAL,converters:{cm:e=>e*2.54}},hour:{regex:/hour[s]?$/i,skip:!0},minute:{regex:/minute[s]?$/i,skip:!0},day:{regex:/day[s]?$/i,skip:!0}};function bl(e,t,r,n){e.alias&&(e=gt[e.alias]);let i=t*n;if(e.ignore_scale&&(i=t),!(r===R.ANY||r===R.ORIGINAL)&&r!==e.unit)if(e.converters){let l=Object.keys(e.converters)[0];i=e.converters[l](i),e=gt[l]}else return null;return i=Sn(i,2,!0),!e.plural||typeof i=="string"||i<=1.1?e.join?`${i}${e.singular}`:`${i} ${e.singular}`:e.join?`${i}${e.plural}`:`${i} ${e.plural}`}function wl(e,t,r){if(Jt(e))return z(t,1)&&r===R.ORIGINAL?e:null;for(let a of Object.values(gt))if(a.regex.exec(e)!=null&&a.skip)return e;let n=a=>{if(a=a.trim(),Jt(a))return Number(a);let s=a.match(/^([0-9]+)\/([0-9]+)$/);return s?Number(s[1])/Number(s[2]):(s=a.match(/^([0-9])\s([0-9]+)\/([0-9]+)$/),s?Number(s[1])+Number(s[2])/Number(s[3]):NaN)};e=e.replace(/ and /," ");let i=e.match(new RegExp(On(String.raw`
					// Number and space prefix
					(?:[0-9]+ )?

					// Decimal prefix
					(?:\.[0-9]+)*

					// Some number
					[0-9]+

					// number-[other number]
					(?:\s*[\/-]\s*[0-9]+)*

					// number and [other number]
					(?: and [0-9]+)?

					(?:\/[0-9]+)*

					// Decimal suffix
					(?:\.[0-9]+)*`),"gi"));if(i==null)return z(t,1)&&r===R.ORIGINAL?e:null;let l=e;for(let a=0;a<i.length;a++){let s=i[a];i[a]=n(s),e=e.replace(s,"").trim()}let u=i.reduce((a,s)=>a+s,0);if(u<0||isNaN(u))return z(t,1)&&r===R.ORIGINAL?l:null;for(let a of Object.values(gt))if(a.regex.exec(e)!=null){let s=bl(a,u,r,t);if(s)return s}return null}let ml=0;const He=ie([]);function ge(e,t=""){console.info(e),He.push({text:e,extra_class:t,id:++ml})}function kl(e){for(let t=0;t<He.length;t++)He[t]&&He[t]===e&&(He.splice(t,1),t-=1)}var D=(e=>(e[e.Unknown=0]="Unknown",e[e.Plain=1]="Plain",e[e.Bold=2]="Bold",e[e.Italic=3]="Italic",e[e.Ingredient=4]="Ingredient",e[e.Temperature=5]="Temperature",e[e.Amount=6]="Amount",e))(D||{});function yl(e){let t={};for(let i of[e.ingredients,e.instructions])xl(i,t,[{kw_type:D.Temperature,regex:/(\b[0-9]+°\s*[CF]?\b)/gi},{kw_type:D.Amount,regex:new RegExp(gl,"gi")}]);for(let i=0;i<e.ingredients.length;i++){let l=e.ingredients[i];if(l.startsWith(Ne)){l=l.replace(Ne,"");{let u=/^(?:(?:\*\*[^\*\*]+\*\*)+[\s\(\),]*)+([^,^\(^\*]+)/i;const a=l.match(u);if(a){let s=a[a.length-1].trim();l=l.replace(s,`**${s}**`),s=s.toLowerCase(),t[s]=D.Ingredient;let o=s.split(" ");for(let c=1;o.length-c>0;c++){let _=Mn(s,o.length-c);t[_]=D.Ingredient}}}}e.ingredients[i]=l}let r=Object.keys(t);r.sort(Pn);for(let i=0;i<e.instructions.length;i++){let l=e.instructions[i];for(let u of r)l=Qt(l,a=>(a=a.replaceAll(new RegExp(String.raw`\b${u}\b`,"gi"),`**${u}**`),a));e.instructions[i]=l}let n=/(\b[0-9]+)\b/gi;for(let i of[e.ingredients,e.instructions])for(let l=0;l<i.length;l++){let u=i[l];u=u.split(/(\*\*[^\*]+\*\*)/).map(a=>{if(a.startsWith("**")&&a.endsWith("**"))return a;let s=a.match(n);if(s){a=a.replaceAll(n,"**$1**");for(let o of s)t[o]=D.Amount}return a}).join(""),i[l]=u}return t}function xl(e,t,r){for(let n=0;n<e.length;n++)for(let i of r){let l=i.regex,u=i.kw_type;e[n]=Qt(e[n],a=>{if(a.startsWith("**")&&a.endsWith("**"))return a;const s=[...new Set(a.match(l)||[])];s.sort(Pn);for(let o of s){let c=o.trim();!c.length||Jt(c)||(a=Qt(a,_=>_.replaceAll(c,`**${c}**`)),c=c.toLowerCase(),t[c]=u)}return a})}}function Fr(e){if(e.nodeName.startsWith("H")){let t=!0;for(;t;){t=!1;for(let r of e.children)r.nodeName=="DIV"&&(e.removeChild(r),t=!0)}}return(e.textContent||"").replace(/▢/,"").replaceAll(/(\.)([A-Z])/g,"$1 $2").replace(/^(?:Step\s*)?[0-9]+\.\s+/,"").replaceAll(" , ",", ").replaceAll("–","-").replaceAll("”",'"').replaceAll("½","1/2").replaceAll("¾","3/4").replaceAll("⅓","1/3").replaceAll("⅔","2/3").replaceAll("¼","1/4").replaceAll(/([0-9]+)\s+-\s+([0-9]+)/g,"$1-$2").trim()}function El(e,t,r){let i=new DOMParser().parseFromString(t,"text/html"),l=he.None,u=null,a={},s=[],o=[],c=[];r=r||Il(i);let _=[...i.querySelectorAll("li,p,h1,h2,h3,h4,h5,h6")],f=Math.max(0,_.map(v=>Fr(v)).findLastIndex(v=>v.toLowerCase()==="ingredients"));for(let v=f;v<_.length;v++){let d=_[v];d.nodeName.startsWith("H")&&d.nodeName==u&&(l=he.None);let p=Fr(d);if(!p.length)continue;switch(p.toLowerCase()){case"ingredients":l=he.Ingredients,u=d.nodeName;continue;case"instructions":l=he.Instructions,u=d.nodeName;continue;case"notes":l=he.Notes,u=d.nodeName;continue}switch(d.nodeName){case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"H7":case"H8":case"H9":p=p.replace(/:$/,""),p=`${ht}${p}`;break;default:p=`${Ne}${p}`;break}switch(l){case he.Ingredients:s.push(p);break;case he.Instructions:if(p.startsWith(Ne)){let g=p.replace(Ne,"").match(/^([^\.\:]+):(.+)/);g?(o.push(`${pt}${g[1]}`),o.push(`${Ne}${g[2]}`)):o.push(p)}break;case he.Notes:c.push(p);break}}return{title:r,ingredients:s,instructions:o,notes:c,keywords:a,url:e}}function Il(e){for(let t of e.querySelectorAll("meta"))if(t.getAttribute("property")==="og:title")return t.getAttribute("content")||"";return""}function Ut(e,t,r){let n="";if(e.length){n+=`

## ${r}
`;for(let i of e)i.startsWith(ht)||i.startsWith(pt)?i=`

${i}
`:n+=`
${i}`}return n}function Al(e){let t="";return e.title&&(t+=`# ${e.title}
`),t+=Ut(e.ingredients,e.keywords,"Ingredients"),t+=Ut(e.instructions,e.keywords,"Instructions"),t+=Ut(e.notes,e.keywords,"Notes"),t.trim()}function Nl(e,t,r){if(!r)return[{type:D.Plain,text:Zt(e)}];let n=[];for(let i of e.split(/(\*\*[^\*]+\*\*)/))if(i)if(i.startsWith("**")&&i.endsWith("**"))i=i.replace(/^\*\*/,"").replace(/\*\*$/,""),n.push({text:i,type:t[i.toLowerCase()]||D.Unknown});else{let l=i;for(let u of l.split(/(\*[^\*]+\*)/))u&&(u.startsWith("*")&&u.endsWith("*")?(u=u.replace(/^\*/,"").replace(/\*$/,""),n.push({type:D.Italic,text:u})):n.push({type:D.Plain,text:u}))}return n}function cr(){try{return JSON.parse(localStorage.getItem(fr.RECIPES)||"[]")}catch(e){return console.error(e),[]}}function Dn(e){localStorage.setItem(fr.RECIPES,JSON.stringify(e))}function Rl(e){let t=cr();for(let r of t)if(r.url===e)return r;return null}function Cl(e,t=!0){let r=cr();return r=$n(r,e.url,!1),r.push(e),t&&Dn(r),r}function $n(e,t,r=!0){return e=e.filter(n=>n.url!==t),r&&Dn(e),e}async function Ll(e,t="",r=!1){if(!Tn(e))return ge("ERROR","error"),null;if(!r){let i=Rl(e);if(i)return ge("Done!","success"),i}let n=await fetch(`https://corsproxy.io/?url=${encodeURI(e)}`);if(n.status!==200)ge("ERROR","error");else{let i=await n.text(),l=El(e,i,t);return Cl(l),ge("Done!","success"),l}return null}function Ml(e,t){if(!e)return null;let r=structuredClone(e);return t?r.keywords=yl(r):r.keywords={},r}function Ol(e,t,r,n){return e?[jt("Ingredients",e.ingredients,e.keywords,t,r,n),jt("Instructions",e.instructions,e.keywords,t,r,n),jt("Notes",e.notes,e.keywords,t,r,n)]:[]}function jt(e,t,r,n,i,l){let u=[],a={text:e,level:2,rows:[]};if(t.length){u.push(a);for(let s of t){if(s.startsWith(Ne))s=s.substr(Ne.length);else if(s.startsWith(ht)){s=s.substr(ht.length),u.push(a={level:3,text:Zt(s),rows:[]}),u.push(a);continue}else if(s.startsWith(pt)){s=s.substr(pt.length),u.push(a={level:4,text:Zt(s),rows:[]});continue}a.rows.push({fragments:Nl(s,r,n),id:pl("row")})}for(let s of u)for(let o of s.rows)for(let c of o.fragments)switch(c.type){case D.Ingredient:c.id=dl(r,c.text);break;case D.Amount:let _=c.text,f=wl(_,l,i);f===null?c.failed=!0:f!==_&&(c.text=f,c.converted=!0);break}}return u}var Sl=(e,t)=>t.onBack(),Pl=(e,t,r)=>{e.stopPropagation(),t.onOpenUrl(h(r).url)},Tl=(e,t,r)=>{e.stopPropagation(),L(t,$n(h(t),h(r).url),!0)},Dl=P('<div class="recipe-row" role="button" tabindex="0"><span class="grow"> </span> <button class="pink shrink">Delete</button></div>'),$l=P('<main class="my-recipes"><div class="full-width mb1 right"><button class="pink shrink">Back</button></div> <h2 class="grow no-margin">My Saved Recipes</h2> <!></main>');function Hl(e,t){Oe(t,!0);let r=$(ie(cr()));var n=$l(),i=x(n),l=x(i);l.__click=[Sl,t];var u=M(i,4);Fe(u,17,()=>h(r),Je,(a,s)=>{var o=Dl();o.__click=[Pl,t,s];var c=x(o),_=x(c),f=M(c,2);f.__click=[Tl,r,s],B(()=>oe(_,h(s).title||"<missing title>")),wn("keypress",o,v=>{}),C(a,o)}),C(e,n),Se()}Mt(["click"]);const ql=e=>e;function Fl(e,{delay:t=0,duration:r=400,easing:n=ql}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:n,css:l=>`opacity: ${l*i}`}}var Wl=P("<div> </div>");function Ul(e,t){Oe(t,!0),setTimeout(()=>{kl(t.notification)},3e3);var r=Wl(),n=x(r);B(()=>{fe(r,1,`notification ${t.notification.extra_class??""}`,"svelte-106uj2k"),oe(n,t.notification.text)}),sl(2,r,()=>Fl,()=>({duration:3e3})),C(e,r),Se()}var jl=P('<div class="notifications svelte-rru4ft"></div>');function Bl(e){var t=jl();Fe(t,5,()=>He,r=>r.id,(r,n)=>{Ul(r,{get notification(){return h(n)}})}),C(e,t)}let ze=null;const Bt=async()=>{document.visibilityState==="visible"&&setTimeout(async()=>await Hn(),1e3)},Gl=async e=>{if(navigator.wakeLock)if(e)await Hn(),document.removeEventListener("visibilitychange",Bt),document.addEventListener("visibilitychange",Bt);else{console.info("Disabling wake lock");let t=ze;ze=null,t&&t.release(),document.removeEventListener("visibilitychange",Bt)}},Hn=async()=>{try{if(ze)try{console.info("Releasing old wake lock"),await ze.release()}catch{}ze=await navigator.wakeLock.request("screen"),console.info("Wake Lock is active")}catch(e){console.error(e)}};var Kl=P("<h2> </h2>"),Vl=P("<h3> </h3>"),zl=P("<h4> </h4>"),Yl=(e,t)=>t.onFocusSection(t.section),Xl=(e,t,r)=>{t()[h(r).id]=e.target.checked},Zl=P("<span> </span>"),Jl=P("<b> </b>"),Ql=P("<b> </b>"),ea=(e,t,r)=>{h(t).type===D.Ingredient&&(e.preventDefault(),r.onHighlightKeyword(h(t).id))},ta=P('<span role="button" tabindex="0"> </span>'),ra=P('<label><input type="checkbox"> <div></div></label>'),na=P('<div class="list"><div><!> <div class="center"><button tabindex="0"><!></button></div></div> <!></div>');function ia(e,t){Oe(t,!0);let r=Ln(t,"checkedItems");function n(g){switch(g.type){case D.Ingredient:return"ingredient";case D.Temperature:return"temperature";case D.Amount:return"amount";default:return""}}function i(g){return t.selectedKeyword&&g.fragments.find(b=>b.id==t.selectedKeyword)}let l;It(()=>{l&&t.isFocused&&t.section&&l.scrollIntoView()});var u=na(),a=x(u);Yt(a,"",{},{display:"flex",gap:"0.5rem"});var s=x(a);{var o=g=>{var b=Kl(),y=x(b);B(()=>oe(y,t.section.text)),C(g,b)},c=(g,b)=>{{var y=w=>{var U=Vl(),T=x(U);B(()=>oe(T,t.section.text)),C(w,U)},m=(w,U)=>{{var T=I=>{var Q=zl(),ee=x(Q);B(()=>oe(ee,t.section.text)),C(I,Q)};F(w,I=>{t.section.level===4&&I(T)},U)}};F(g,w=>{t.section.level===3?w(y):w(m,!1)},b)}};F(s,g=>{t.section.level===2?g(o):g(c,!1)})}var _=M(s,2);Yt(_,"",{},{display:"flex"});var f=x(_);f.__click=[Yl,t];var v=x(f);{var d=g=>{var b=Or("close");C(g,b)},p=g=>{var b=Or("focus");C(g,b)};F(v,g=>{t.isFocused?g(d):g(p,!1)})}var N=M(a,2);Fe(N,17,()=>t.section.rows,Je,(g,b)=>{var y=ra();let m;var w=x(y);w.__change=[Xl,r,b];var U=M(w,2);Fe(U,21,()=>h(b).fragments,Je,(T,I)=>{var Q=mn(),ee=Ke(Q);{var se=te=>{var ue=Zl(),ke=x(ue);B(()=>oe(ke,h(I).text)),C(te,ue)},Re=(te,ue)=>{{var ke=re=>{var de=Jl(),je=x(de);B(()=>oe(je,h(I).text)),C(re,de)},Pe=(re,de)=>{{var je=k=>{var O=Ql(),H=x(O);B(()=>oe(H,h(I).text)),C(k,O)},Ot=k=>{var O=ta();let H;O.__click=[ea,I,t];var ye=x(O);B((xe,rt)=>{H=fe(O,1,xe,null,H,rt),oe(ye,h(I).text)},[()=>zi(n(h(I))),()=>({failed:h(I).failed,converted:h(I).converted,selected:t.selectedKeyword&&t.selectedKeyword==h(I).id})]),wn("keypress",O,xe=>{}),C(k,O)};F(re,k=>{h(I).type===D.Italic?k(je):k(Ot,!1)},de)}};F(te,re=>{h(I).type===D.Bold?re(ke):re(Pe,!1)},ue)}};F(ee,te=>{h(I).type===D.Plain?te(se):te(Re,!1)})}C(T,Q)}),B(T=>{m=fe(y,1,"",null,m,T),Qi(w,r()[h(b).id])},[()=>({selected:i(h(b))})]),C(g,y)}),In(u,g=>l=g,()=>l),C(e,u),Se()}Mt(["click","change"]);var la=P('<div class="focus-pane"><div class="focus-pane-content"><!></div> <!></div>');function aa(e,t){Oe(t,!0);let r=ie({did_drag:!1,total_height:0}),n=$("30vh"),i;ol(async()=>{i&&(await Si(),r.total_height=i.scrollHeight+10,L(n,`min(30vh, ${r.total_height}px)`))}),It(()=>{});var l=la();let u;var a=x(l),s=x(a);Ki(s,()=>t.content);var o=M(a,2);F(o,c=>{}),In(l,c=>i=c,()=>i),B(()=>u=Yt(l,"",u,{"min-height":h(n)})),C(e,l),Se()}Mt(["mousedown"]);var sa=P('<p>Welcome to recipe scraper!</p> <p>New here? <a href="https://github.com/loremdipso/recipe-scraper?tab=readme-ov-file#recipe-scraper" target="_blank">Here</a> are some instructions to get you started.</p>',1);function ua(e){var t=sa();C(e,t)}var oa=async(e,t)=>{if(h(t)){let r=Al(h(t));await navigator.clipboard.writeText(r),ge("Copied to clipboard :)")}},fa=P('<button id="share-button" class="black">Share</button>'),ca=(e,t)=>t.onMyRecipes(),va=async(e,t)=>{await h(t).prompt(),L(t,null)},_a=P("<h1> </h1>"),da=(e,t)=>{L(t,!h(t))},ha=async e=>{await Gl(e.target.checked)},pa=P('<label><input type="checkbox" checked> Keep screen on</label>'),ga=(e,t)=>t(R.IMPERIAL),ba=(e,t)=>t(R.ORIGINAL),wa=(e,t)=>t(R.METRIC),ma=async(e,t,r)=>{t()?(ge("Reloading..."),await r(!0)):ge("No url!","error")},ka=(e,t)=>t(.5),ya=(e,t)=>t(1),xa=(e,t)=>t(2),Ea=P('<!> <div class="flex-row center mb1 mt1"><div class="flex-col"><button class="mb1">Toggle colors</button> <!> <div class="flex-row"><button>Imperial</button> <button>Original</button> <button>Metric</button></div></div> <div class="flex-col"><a target="_blank">Open the original</a> <button>Reload</button> <div class="flex-row"><button>0.5x</button> <button>1x</button> <button>2x</button></div></div></div> <!>',1),Ia=P('<main><div class="input full-width"><button class="green">Copy from clipboard</button> <button class="blue">Get markdown</button> <!> <button class="pink">My recipes</button> <button id="install-button" class="purple">Install</button></div> <div class="output"><!></div></main>  <!>',1);function Aa(e,t){Oe(t,!0);const[r,n]=Cn(),i=()=>Rn(s,"$data",r),l=k=>{u(k,()=>h(p),()=>!0)},u=(k,O=G,H=G)=>{ia(k,{get section(){return O()},get isFocused(){return H()},get selectedKeyword(){return h(v)},get checkedItems(){return h(d)},onHighlightKeyword:ye=>{ye===h(v)?L(v,null):L(v,ye,!0)},onFocusSection:ye=>{H()?L(p,null):L(p,O(),!0)}})};let a=Ln(t,"current_url");const s=Nn(null);let o=$(ie(R.ORIGINAL)),c=$(1),_=$(!0);const f=Nr(()=>Ml(i(),h(_)));let v=$(null),d=$(ie({})),p=$(null),N=Nr(()=>Ol(h(f),h(_),h(o),h(c))),g="";It(()=>{a()!==g&&(g=a(),(async()=>m(!1))())});function b(k){k!==h(o)&&L(o,k,!0)}function y(k){z(k,h(c))||L(c,k,!0)}async function m(k=!1){if(L(d,{},!0),s.set(await Ll(a(),"",k)),L(v,null),L(p,null),a()!==window.location.href){const O=new URL(window.location.href);O.searchParams.set("url",a()),window.history.pushState({},"",O.toString())}}let w=$(null);window.addEventListener("beforeinstallprompt",k=>{k.preventDefault(),L(w,k,!0)});var U=Ia(),T=Ke(U),I=x(T),Q=x(I);Q.__click=async()=>{const k=await navigator.clipboard.read();for(const O of k)for(const H of O.types){const xe=await(await O.getType(H)).text();if(s.set(null),Tn(xe)){ge("Loading..."),a(xe);return}else ge("ERROR: that doesn't look like a URL","error")}};var ee=M(Q,2);ee.__click=[oa,f];var se=M(ee,2);{var Re=k=>{var O=fa();O.__click=async()=>{const H=new URL(window.location.href);H.search="",a()&&H.searchParams.set("url",a()),await navigator.share({title:"Here's a recipe for ya!",url:H.toString()})},C(k,O)};F(se,k=>{navigator.share&&k(Re)})}var te=M(se,2);te.__click=[ca,t];var ue=M(te,2);ue.__click=[va,w];var ke=M(I,2),Pe=x(ke);{var re=k=>{var O=Ea(),H=Ke(O);{var ye=ne=>{var X=_a(),Ee=x(X);B(()=>{var Te;return oe(Ee,(Te=h(f))==null?void 0:Te.title)}),C(ne,X)};F(H,ne=>{var X;(X=h(f))!=null&&X.title&&ne(ye)})}var xe=M(H,2),rt=x(xe),vr=x(rt);vr.__click=[da,_];var _r=M(vr,2);{var qn=ne=>{var X=pa(),Ee=x(X);Ee.__change=[ha],C(ne,X)};F(_r,ne=>{navigator.wakeLock&&ne(qn)})}var Fn=M(_r,2),St=x(Fn);let dr;St.__click=[ga,b];var Pt=M(St,2);let hr;Pt.__click=[ba,b];var pr=M(Pt,2);let gr;pr.__click=[wa,b];var Wn=M(rt,2),Tt=x(Wn);let br;var wr=M(Tt,2);wr.__click=[ma,a,m];var Un=M(wr,2),Dt=x(Un);let mr;Dt.__click=[ka,y];var $t=M(Dt,2);let kr;$t.__click=[ya,y];var yr=M($t,2);let xr;yr.__click=[xa,y];var jn=M(xe,2);Fe(jn,17,()=>h(N),Je,(ne,X)=>{var Ee=mn(),Te=Ke(Ee);Fe(Te,17,()=>h(X),Je,(Ht,qt)=>{u(Ht,()=>h(qt),()=>!1)}),C(ne,Ee)}),B((ne,X,Ee,Te,Ht,qt,Bn)=>{dr=fe(St,1,"rounded-button black",null,dr,ne),hr=fe(Pt,1,"rounded-button black",null,hr,X),gr=fe(pr,1,"rounded-button black",null,gr,Ee),br=fe(Tt,1,"mb1",null,br,Te),el(Tt,"href",a()),mr=fe(Dt,1,"rounded-button black",null,mr,Ht),kr=fe($t,1,"rounded-button black",null,kr,qt),xr=fe(yr,1,"rounded-button black",null,xr,Bn)},[()=>({selected:h(o)==R.IMPERIAL}),()=>({selected:h(o)==R.ORIGINAL}),()=>({selected:h(o)==R.METRIC}),()=>({disabled:!a()}),()=>({selected:z(h(c),.5)}),()=>({selected:z(h(c),1)}),()=>({selected:z(h(c),2)})]),C(k,O)},de=k=>{ua(k)};F(Pe,k=>{h(f)?k(re):k(de,!1)})}var je=M(T,2);{var Ot=k=>{aa(k,{content:l})};F(je,k=>{h(p)&&k(Ot)})}B(()=>{ee.disabled=!h(f),ue.hidden=!h(w)}),C(e,U),Se(),n()}Mt(["click","change"]);var Na=P("<!> <!> <!>",1);function Ra(e,t){Oe(t,!0);const[r,n]=Cn(),i=()=>Rn(l,"$current_page",r),l=Nn(Ce.Recipe);let u=$(""),a=new URL(document.location);const s=a.searchParams.get("link")||a.searchParams.get("description")||a.searchParams.get("url");s?L(u,decodeURI(s),!0):a.searchParams.get("my-recipes")&&l.set(Ce.MyRecipes);var o=Na(),c=Ke(o);_l(c);var _=M(c,2);{var f=p=>{Aa(p,{onMyRecipes:()=>l.set(Ce.MyRecipes),get current_url(){return h(u)}})},v=(p,N)=>{{var g=b=>{Hl(b,{onBack:()=>l.set(Ce.Recipe),onOpenUrl:y=>{L(u,y,!0),l.set(Ce.Recipe)}})};F(p,b=>{i()===Ce.MyRecipes&&b(g)},N)}};F(_,p=>{i()===Ce.Recipe?p(f):p(v,!1)})}var d=M(_,2);Bl(d),C(e,o),Se(),n()}qi(Ra,{target:document.getElementById("app")});
